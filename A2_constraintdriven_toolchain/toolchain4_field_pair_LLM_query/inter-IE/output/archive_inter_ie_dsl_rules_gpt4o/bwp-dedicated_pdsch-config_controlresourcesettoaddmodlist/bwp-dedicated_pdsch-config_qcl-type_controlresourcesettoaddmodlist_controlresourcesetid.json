{
  "dsl_rule": null,
  "constraint_type": null,
  "has_valid_rule": false,
  "field_ids": {
    "field1_all": [
      108,
      173,
      238
    ],
    "field2_all": [
      136,
      201,
      266
    ],
    "actual_pairs": [
      [
        [
          108,
          173,
          238
        ],
        [
          136,
          201
        ]
      ],
      [
        [
          108,
          173,
          238
        ],
        [
          136,
          201,
          266
        ]
      ]
    ]
  },
  "reason": "NO_RULE - insufficient evidence or no valid constraint found",
  "notes": "The evidence does not explicitly relate qcl-type from bwp-dedicated_pdsch-config to controlresourcesetid from controlresourcesettoaddmodlist across IEs.",
  "advisory": false,
  "citations": [
    {
      "doc": "3GPP TS 38.213"
    },
    {
      "doc": "3GPP TS 38.214"
    }
  ],
  "meta": {
    "ie1_name": "bwp-dedicated_pdsch-config",
    "field1": "qcl-type",
    "ie2_name": "controlresourcesettoaddmodlist",
    "field2": "controlresourcesetid",
    "is_inter_ie": true,
    "evidence_info": {
      "used_count": 12,
      "original_count": 21,
      "sampled": true
    },
    "all_sources": [
      "ts_138214v170100p_mathpix.md",
      "ts_138213v170100p_mathpix.md"
    ],
    "all_sections": [
      "5.1.5",
      "6.2.1",
      "10.1",
      "7.2.1",
      "7.1.1",
      "4.3",
      "6.1",
      "7.3.1"
    ],
    "best_confidence": "HIGH",
    "evidence": "- if the active TCI state for PDCCH reception includes two RS, the UE expects that one RS is configured with qclType set to 'typeD' [6, TS 38.214] and the UE uses the RS configured with qcl-Type set to 'typeD' for radio link monitoring; the UE does not expect both RS to be configured with qcl-Type set to 'typeD' - the UE is not required to use for radio link monitoring an aperiodic or semi-persistent RS - For \\( L_{\\text {max }}=4 \\), the UE selects the \\( N_{\\text {RLM }} \\) RS provided for active TCI states for PDCCH receptions in CORESETs associated with the search space sets in an order from the shortest monitoring periodicity. If more than one CORESETs are associated with search space sets having same monitoring periodicity, the UE determines the order of the CORESET from the highest CORESET index as described in clause 10.1.\n---\n- is not provided coresetPoollndex value of 1 for any CORESET, or is provided coresetPoollndex value of 1 for all CORESETs, in ControlResourceSet and no codepoint of a TCI field, if any, in a DCI format of any search space set maps to two TCI states [5, TS 38.212] the UE determines a RS resource index \\( q_{d} \\) providing a periodic RS resource configured with qcl-Type set to 'typeD' in the TCI state or the QCL assumption of a CORESET with the lowest index in the active DL BWP of the primary cell. If the CORESET has two activated TCI states, as described in clause 10.1, the UE determines the RS resource index \\( q_{d} \\) based on the first activated TCI state. For a PUCCH transmission over multiple slots, a same \\( q_{d} \\) applies to the PUCCH transmission in each of the multiple slots.\n---\nFor a CORESET other than a CORESET with index 0 , if a UE is provided a single TCI state for a CORESET, or if the UE receives a MAC CE activation command for one or two of the provided TCI states for a CORESET, the UE assumes that the DM-RS antenna port associated with PDCCH receptions in the CORESET is quasi co-located with the one or more DL RS configured by the TCI states. For a CORESET with index 0 , the UE expects that a CSI-RS configured with qcl-Type set to 'typeD' in a TCI state indicated by a MAC CE activation command for the CORESET is provided by a SS/PBCH block\n---\nWhen the UE would transmit a PUCCH with HARQ-ACK information in slot \\( n \\) corresponding to the PDSCH carrying the activation command, the indicated mapping between TCI states and codepoints of the DCI field Transmission Configuration Indication'should be applied starting from the first slot that is after slot \\( n+3 N_{\\text {slot }}^{\\text {subrame, } \\mu}+ \\frac{2^{\\mu}}{2^{\\mu_{K} a c}} \\cdot k_{\\text {mac }} \\) where \\( \\mu \\) is the SCS configuration for the PUCCH and \\( \\mu_{K_{\\text {mac }}} \\) is the subcarrier spacing configuration for \\( k_{\\text {mac }} \\) with a value of 0 for frequency range 1 , and \\( k_{\\text {mac }} \\) is provided by \\( K \\)-Mac or \\( k_{\\text {mac }}=0 \\) if \\( K \\)-Mac is not provided. If tci-PresentInDCI is set to 'enabled' or tci-PresentDCI-1-2 is configured for the CORESET scheduling the PDSCH, and the time offset between the reception of the DL DCI and the corresponding PDSCH is equal to or greater than timeDurationForQCL if applicable, after a UE receives an initial higher layer configuration of TCI states and before reception of the activation command, the UE may assume that the DM-RS ports of PDSCH of a serving cell are quasi co-located with the SS/PBCH block determined in the initial access procedure with respect to qcl-Type set to 'typeA', and when applicable, also with respect to qcl-Type set to 'typeD'.\n---\nFor PUSCH scheduled by DCI format \\( 0 \\_0 \\) on a cell and if the higher layer parameter enableDefaultBeamPL-ForPUSCH0-0 is set 'enabled', the UE is not configured with PUCCH resources on the active UL BWP and the UE is in RRC connected mode, the UE shall transmit PUSCH according to the spatial relation, if applicable, with a reference to the RS configured with qcl-Type set to 'typeD' corresponding to the QCL assumption of the CORESET with the lowest ID on the active DL BWP of the cell. If the CORESET is indicated with two TCI states, snischemePdcch is configured and the UE supports [DefaultBeamPL-ForPUSCH-SfnPdcch], the UE shall use the first TCI state as the QCL assumption.\n---\n- according to the spatial relation, if applicable, with a reference to the RS configured with qcl-Type set to 'typeD' corresponding to the QCL assumption of the CORESET with the lowest controlResourceSetld in the active DL\n---\nthe UE determines a RS resource index \\( q_{d} \\) providing a periodic RS resource configured with qcl-Type set to 'typeD' in the TCI state or the QCL assumption of a CORESET with the lowest index in the active DL BWP of the serving cell \\( c \\). If the CORESET has two activated TCI states, as described in clause 10.1, the UE determines the RS resource index \\( q_{d} \\) based on the first TCI state.\n---\nthe UE determines a RS resource index \\( q_{d} \\) providing a periodic RS resource configured with qcl-Type set to 'typeD' in - the TCI state or the QCL assumption of a CORESET with the lowest index in the active DL BWP, if CORESETs are provided in the active DL BWP of serving cell \\( c \\). If the CORESET has two activated TCI states, as described in clause 10.1 , the UE determines the RS resource index \\( q_{d} \\) based on the first TCI state.\n---\nIf the UE is not provided \\( \\bar{q}_{0} \\) by failureDetectionResourcesToAddModList for a BWP of the serving cell, the UE determines the set \\( \\bar{q}_{0} \\) to include periodic CSI-RS resource configuration indexes with same values as the RS indexes in the RS sets indicated by TCI-State for respective CORESETs that the UE uses for monitoring PDCCH. If the UE is not provided \\( \\bar{q}_{0,0} \\) or \\( \\bar{q}_{0,1} \\) for a BWP of the serving cell, the UE determines the set \\( \\bar{q}_{0,0} \\) or \\( \\bar{q}_{0,1} \\) to include periodic CSI-RS resource configuration indexes with same values as the RS indexes in the RS sets indicated by TCI-State for first and second CORESETs that the UE uses for monitoring PDCCH, where the UE is provided two coresetPoollndex values 0 and 1 for the first and second CORESETs, or is not provided coresetPoollndex value for the first CORESETs and is provided coresetPoollndex value of 1 for the second CORESETs, respectively. If there are two RS indexes in a TCI state, the set \\( \\bar{q}_{0} \\) or \\( \\bar{q}_{0,0} \\), or \\( \\bar{q}_{0,1} \\) includes RS indexes configured with qcl-Type set to 'typeD' for the corresponding TCI states. If a CORESET that the UE uses for monitoring PDCCH includes two TCI states and the UE is provided sfnSchemePdcch set to 'sfnSchemeA' or 'sfnSchemeB', the set \\( \\bar{q}_{0} \\) includes RS indexes in the RS sets associated with the two TCI states. The UE expects the set \\( \\bar{q}_{0} \\) to include up to two RS indexes. If the UE is provided \\( \\bar{q}_{0,0} \\) or \\( \\bar{q}_{0,1} \\), the UE expects the set \\( \\bar{q}_{0,0} \\) or the set \\( \\bar{q}_{0,1} \\) to include up to a number of \\( N_{\\mathrm{BFD}} \\) RS indexes indicated by capabilityparametername. If the UE is not provided \\( \\bar{q}_{0,0} \\) or \\( \\bar{q}_{0,1} \\), and if a number of active TCI states for PDCCH receptions in the first or second CORESETs is larger than \\( N_{\\mathrm{BFD}} \\), the UE determines the set \\( \\bar{q}_{0,0} \\) or \\( \\bar{q}_{0,1} \\) to include periodic CSI-RS resource configuration indexes with same values as the RS indexes in the RS sets associated with the active TCI states for PDCCH receptions in the first or second CORESETs corresponding to search space sets according to an ascending order for monitoring periodicity. If more than one first or second CORESETs correspond to search space sets with same monitoring periodicity, the UE determines the order of the first or second CORESETs according to a descending order of a CORESET index.\n---\nFor PDSCH scheduled by DCI format \\( 1 \\_0,1 \\_1,1 \\_2 \\), when a UE is configured with sfnSchemePdcch set to 'sfnScheme A' and sfnSchemePdsch is not configured, and there is no TCI codepoint with two TCI states in the activation command, and if the time offset between the reception of the DL DCI and the corresponding PDSCH is equal or larger than the threshold timeDurationForQCL if applicable and the CORESET which schedules the PDSCH is indicated with two TCI states, the UE assumes that the TCI state or the QCL assumption for the PDSCH is identical to the first TCI state or QCL assumption which is applied for the CORESET used for the PDCCH transmission within the active BWP of the serving cell.  If a PDSCH is scheduled by a DCI format having the TCI field present, the TCI field in DCI in the scheduling component carrier points to the activated TCI states in the scheduled component carrier or DL BWP, the UE shall use the TCI-State according to the value of the 'Transmission Configuration Indication' field in the detected PDCCH with DCI for determining PDSCH antenna port quasi co-location. The UE may assume that the DM-RS ports of PDSCH of a serving cell are quasi co-located with the RS(s) in the TCI state with respect to the QCL type parameter(s) given by the indicated TCI state if the time offset between the reception of the DL DCI and the corresponding PDSCH is equal to or greater than a threshold timeDurationForQCL, where the threshold is based on reported UE capability [13, TS 38.306]. For a single slot PDSCH, the indicated TCI state(s) should be based on the activated TCI states in the slot with the scheduled PDSCH. For a multi-slot PDSCH or the UE is configured with higher layer parameter [pdsch-TimeDomainAllocationListForMultiPDSCH-r177, the indicated TCI state(s) should be based on the activated TCI states in the first slot with the scheduled \\( \\operatorname{PDSCH}(s) \\), and UE shall expect the activated TCI states are the same across the slots with the scheduled \\( \\operatorname{PDSCH}(s) \\). When the UE is configured with CORESET associated with a search space set for crosscarrier scheduling and the UE is not configured with enableDefaultBeamForCCS, the UE expects tci-PresentInDCI is set as 'enabled' or tci-PresentDCI-1-2 is configured for the CORESET, and if one or more of the TCI states configured for the serving cell scheduled by the search space set contains qcl-Type set to 'typeD', the UE expects the time offset between the reception of the detected PDCCH in the search space set and a corresponding PDSCH is larger than or equal to the threshold timeDurationForQCL.\n---\nIf a PDSCH is scheduled by a DCI format having the TCI field present, the TCI field in DCI in the scheduling component carrier points to the activated TCI states in the scheduled component carrier or DL BWP, the UE shall use the TCI-State according to the value of the 'Transmission Configuration Indication' field in the detected PDCCH with DCI for determining PDSCH antenna port quasi co-location. The UE may assume that the DM-RS ports of PDSCH of a serving cell are quasi co-located with the RS(s) in the TCI state with respect to the QCL type parameter(s) given by the indicated TCI state if the time offset between the reception of the DL DCI and the corresponding PDSCH is equal to or greater than a threshold timeDurationForQCL, where the threshold is based on reported UE capability [13, TS 38.306]. For a single slot PDSCH, the indicated TCI state(s) should be based on the activated TCI states in the slot with the scheduled PDSCH. For a multi-slot PDSCH or the UE is configured with higher layer parameter [pdsch-TimeDomainAllocationListForMultiPDSCH-r177, the indicated TCI state(s) should be based on the activated TCI states in the first slot with the scheduled \\( \\operatorname{PDSCH}(s) \\), and UE shall expect the activated TCI states are the same across the slots with the scheduled \\( \\operatorname{PDSCH}(s) \\). When the UE is configured with CORESET associated with a search space set for crosscarrier scheduling and the UE is not configured with enableDefaultBeamForCCS, the UE expects tci-PresentInDCI is set as 'enabled' or tci-PresentDCI-1-2 is configured for the CORESET, and if one or more of the TCI states configured for the serving cell scheduled by the search space set contains qcl-Type set to 'typeD', the UE expects the time offset between the reception of the detected PDCCH in the search space set and a corresponding PDSCH is larger than or equal to the threshold timeDurationForQCL.\n---\n- If a UE is configured with enableTwoDefaultTCI-States, and at least one TCI codepoint indicates two TCI states, the UE may assume that the DM-RS ports of PDSCH or PDSCH transmission occasions of a serving cell are quasi co-located with the RS(s) with respect to the QCL parameter(s) associated with the TCI states corresponding to the lowest codepoint among the TCI codepoints containing two different TCI states. When the UE is configured by higher layer parameter repetitionScheme set to 'tdmSchemeA' or is configured with higher layer parameter repetitionNumber, and the offset between the reception of the DL DCI and the first PDSCH transmission occasion is less than the threshold timeDurationForQCL, the mapping of the TCI states to PDSCH transmission occasions is determined according to clause 5.1.2.1 by replacing the indicated TCI states with the TCI states corresponding to the lowest codepoint among the TCI codepoints containing two different TCI states based on the activated TCI states in the slot with the first PDSCH transmission occasion. In this case, if the 'QCL-TypeD' in both of the TCI states corresponding to the lowest codepoint among the TCI codepoints containing two different TCI states is different from that of the PDCCH DM-RS with which they overlap in at least one symbol, the UE is expected to prioritize the reception of PDCCH associated with that CORESET. This also applies to the intra-band CA case (when PDSCH and the CORESET are in different component carriers) - If a UE is not configured with sfnSchemePdsch, and the UE is configured with sfnSchemePdcch set to 'sfnScheme A' and there is no TCI codepoint witih two TCI states in the activation command and the CORESET with the lowest ID in the latest slot is indicated with two TCI states, the UE may assume that the DM-RS ports of PDSCH of a serving cell are quasi co-located with the RS(s) with respect to the QCL parameter(s) associated with the first TCI state of two TCI states indicated for the CORESET. - In all cases above, if none of configured TCI states for the serving cell of scheduled PDSCH is configured with qcl-Type set to 'typeD', the UE shall obtain the other QCL assumptions from the indicated TCI state(s) for its scheduled PDSCH irrespective of the time offset between the reception of the DL DCI and the corresponding PDSCH.",
    "generated_at": "2025-12-10T13:53:28.892159",
    "model": "gpt-4o",
    "full_api_response": {
      "result": "NO_RULE",
      "type": "CrossReference | ValueDependency | RangeAlignment | Association | Conditional",
      "dsl": "",
      "preconditions": [],
      "predicate": "No valid inter-IE constraint between qcl-type and controlresourcesetid based on provided evidence.",
      "advisory": false,
      "examples": {
        "valid": [],
        "invalid": []
      },
      "notes": "The evidence does not explicitly relate qcl-type from bwp-dedicated_pdsch-config to controlresourcesetid from controlresourcesettoaddmodlist across IEs.",
      "version_tags": [
        "r16",
        "r17"
      ]
    }
  }
}