{
  "dsl_rule": null,
  "constraint_type": null,
  "has_valid_rule": false,
  "field_ids": {
    "field1_all": [
      740,
      742
    ],
    "field2_all": [
      739,
      741
    ],
    "actual_pairs": [
      [
        [
          740,
          742
        ],
        [
          739,
          741
        ]
      ]
    ]
  },
  "reason": "NO_RULE - insufficient evidence or no valid constraint found",
  "notes": "The evidence provided does not establish a direct semantic constraint between nzp-CSI-RS-Resources and nzp-CSI-ResourceSetId within the same IE. The evidence discusses configurations and behaviors related to NZP-CSI-RS-ResourceSet but does not explicitly link the two fields in a normative manner.",
  "advisory": false,
  "citations": [],
  "meta": {
    "ie_name": "csi-MeasConfig_nzp-CSI-RS-ResourceSetToAddModList",
    "field1": "nzp-CSI-RS-Resources",
    "field2": "nzp-CSI-ResourceSetId",
    "is_intra_ie": true,
    "evidence_info": {
      "used_count": 12,
      "original_count": 83,
      "sampled": true
    },
    "all_sources": [
      "ts_138321v180200p_mathpix.md",
      "ts_138214v170100p_mathpix.md",
      "ts_138211v180200p_mathpix.md",
      "ts_138213v170100p_mathpix.md"
    ],
    "all_sections": [
      "9.2.5",
      "6.1.3.61",
      "6.1.3.36",
      "7.4.1.5.3",
      "5.1.6.1.1",
      "5.1.6.1",
      "7.4.1.5.1",
      "6.1.3.12",
      "6.1.3.29",
      "5.1.6.1.2",
      "6.1.3.17",
      "6.1.3.62"
    ],
    "best_confidence": "HIGH",
    "evidence": "For the DM-RS of PDSCH, the UE shall expect that an indicated DLorJointTCIState indicates one of the following quasi co-location type(s) if the UE is configured [TCI-State](s) with [tci-Stateld_r] 7]: - 'typeA' with a CSI-RS resource in a NZP-CSI-RS-ResourceSet configured with higher layer parameter trs-Info and, when applicable, 'typeD' with the same CSI-RS resource, or - 'typeA' with a CSI-RS resource in a NZP-CSI-RS-ResourceSet configured with higher layer parameter trs-Info and, when applicable, 'typeD' with a CSI-RS resource in an NZP-CSI-RS-ResourceSet configured with higher layer parameter repetition. When a UE is configured with sfnSchemePdsch set to 'sfnSchemeA', and the UE is indicated with two TCI states in a codepoint of the DCI field 'Transmission Configuration Indication' in a DCI scheduling a PDSCH, the UE shall assume that the DM-RS port(s)of the PDSCH is quasi co-located with the DL-RSs of the two TCI states. When a UE is configured with sfnSchemePdsch set to 'sfnSchemeB', and the UE is indicated with two TCI states in a codepoint of the DCI field 'Transmission Configuration Indication' in a DCI scheduling a PDSCH, the UE shall assume that the DM-RS port(s)of the PDSCH is quasi co-located with the DL-RSs of the two TCI states except for quasi co-location parameters \\{Doppler shift, Doppler spread\\} of the second indicated TCI state. 5.1.6 UE procedure for receiving reference signals 5.1.6.1 CSI-RS reception procedure The CSI-RS defined in Clause 7.4.1.5 of [4, TS 38.211], may be used for time/frequency tracking, CSI computation, L1-RSRP computation, L1-SINR computation, mobility, and tracking during fast SCell activation. For a CSI-RS resource associated with a NZP-CSI-RS-ResourceSet with the higher layer parameter repetition set to 'on', the UE shall not expect to be configured with CSI-RS over the symbols during which the UE is also configured to monitor the CORESET, while for other NZP-CSI-RS-ResourceSet configurations, if the UE is configured with a CSI-RS resource and a search space set associated with a CORESET in the same OFDM symbol(s), the UE may assume that the CSI-RS and a PDCCH DM-RS transmitted in all the search space sets associated with CORESET are quasi co-located with 'typeD', if 'typeD' is applicable. If the CORESET is activated with two TCI states, UE may assume that the first TCI state of the CORESET as the default QCL assumption for the CSI-RS. This also applies to the case when CSI-RS and the CORESET are in different intra-band component carriers, if 'typeD' is applicable. Furthermore, the UE shall not ETSI\n---\n5.1.6.1.1 CSI-RS for tracking A UE in RRC connected mode is expected to receive the higher layer UE specific configuration of a NZP-CSI-RSResourceSet configured with higher layer parameter trs-Info. For a NZP-CSI-RS-ResourceSet configured with the higher layer parameter trs-Info, the UE shall assume the antenna port with the same port index of the configured NZP CSI-RS resources in the NZP-CSI-RS-ResourceSet is the same.\n---\nA UE can be configured with aperiodic CSI-RS resources for tracking for an SCell for fast SCell activation using N Z P -CSI-RS-ResourceSet(s) with the higher layer parameter scellActivationRS-ConfigToAddModList, with the QCL relation as with aperiodic CSI-RS for tracking in clause 5.1.6.1.1. Each CSI-RS resource, defined in clause 7.4.1.5.3 of [4, TS 38.211], for fast SCell activation is configured by the higher layer parameter NZP-CSI-RS-Resource with the same restrictions as defined for CSI-RS for tracking in clause 5.1.6.1.1. 5.1.6.1.2 CSI-RS for L1-RSRP and L1-SINR computation If a UE is configured with a NZP-CSI-RS-ResourceSet configured with the higher layer parameter repetition set to 'on', the UE may assume that the CSI-RS resources, described in Clause 5.2.2.3.1, within the NZP-CSI-RS-ResourceSet are transmitted with the same downlink spatial domain transmission filter, where the CSI-RS resources in the NZP-CSI-RS- ETSI\n---\nZero-power (ZP) and non-zero-power (NZP) CSI-RS are defined - for a non-zero-power CSI-RS configured by the NZP-CSI-RS-Resource [E or by the CSI-RS-Resource-Mobility field in the CSI-RS-ResourceConfigMobility [E or by the TRS-ResourceSet [E, the sequence shall be generated according to clause 7.4.1.5.2 and mapped to resource elements according to clause 7.4.1.5.3 - for a zero-power CSI-RS configured by the ZP-CSI-RS-Resource IE, the UE shall assume that the resource elements defined in clause 7.4.1.5.3 are not used for PDSCH transmission subject to clause 5.1.4.2 of [6, TS 38.214]. The UE performs the same measurement/reception on channels/signals except PDSCH regardless of whether they collide with ZP CSI-RS or not. 7.4.1.5.2 Sequence generation\n---\nThe reference point for k=0 is subcarrier 0 in common resource block 0 . The value of \\rho is given by the higher-layer parameter density in the CSI-RS-ResourceMapping [E or the CSI-RSCellMobility I E and the number of ports X is given by the higher-layer parameter nrofPorts. For NZP CSI-RS configured by the TRS-ResourceSet [E, the density \\rho=3 and number of ports X=1 . The UE is not expected to receive CSI-RS and DM-RS on the same resource elements.\n---\n- the last symbol of aperiodic CSI-RS resource for channel measurements, and - the last symbol of aperiodic CSI-IM used for interference measurements, and - the last symbol of aperiodic NZP CSI-RS for interference measurements, when aperiodic CSI-RS is used for channel measurement for triggered CSI report n the UE is not required to update the CSI report for the triggered CSI report n . Z^{\\prime} is defined in [6, \\operatorname{TS} 38.214] and \\mu corresponds to the smallest SCS configuration among the SCS configurations of the PDCCHs scheduling the PUSCHs, the smallest SCS configuration of aperiodic CSI-RSs associated with DCI formats provided by the PDCCHs triggering the aperiodic CSI reports, and the smallest SCS configuration of the overlapping PUCCHs and PUSCHs and d=2 for \\mu=0,1, d=3 for \\mu=2 , and d=4 for \\mu=3 .\n---\n- Serving Cell ID: This field indicates the identity of the Serving Cell for which the MAC CE applies. The length of the field is 5 bits; - BWP ID: This field indicates a DL BWP for which the MAC CE applies as the codepoint of the DCI bandwidth part indicator field as specified in TS 38.212 [9]. The length of the BWP ID field is 2 bits; - SP CSI-RS resource set ID: This field contains an index of NZP-CSI-RS-ResourceSet containing Semi Persistent NZP CSI-RS resources, as specified in TS 38.331 [5], indicating the Semi Persistent NZP CSI-RS resource set, which shall be activated or deactivated. The length of the field is 6 bits; - IM: This field indicates the presence of the octet containing SP CSI-IM resource set ID field. If the IM field is set to 1 , the octet containing SP CSI-IM resource set ID field is present. If IM field is set to 0 , the octet containing SP CSI-IM resource set ID field is not present;\n---\n- SUL: This field indicates whether the MAC CE applies to the NUL carrier or SUL carrier configuration. This field is set to 1 to indicate that it applies to the SUL carrier configuration, and it is set to 0 to indicate that it applies to the NUL carrier configuration; - SP SRS Resource Set ID: This field indicates the SP SRS Resource Set ID identified by SRS-ResourceSetld as specified in TS 38.331 [5], which is to be activated or deactivated. The length of the field is 4 bits; - F_{1} : This field indicates the type of a resource used as a spatial relationship for SRS resource within SP SRS Resource Set indicated with SP SRS Resource Set ID field. F_{0} refers to the first SRS resource within the resource set, F_{1} to the second one and so on. The field is set to 1 to indicate NZP CSI-RS resource index is used, and it is ETSI\n---\n- C: This field indicates whether the octets containing Resource Serving Cell ID field(s) and Resource BWP ID field(s) are present. If this field is set to 1 , the Resource Serving Cell ID field(s) and Resource BWP ID field(s) are present, otherwise they are not present so MAC entity shall ignore Resource Serving Cell ID field(s) and Resource BWP ID field(s); - SRS Resource ID: This field indicates the SP/AP SRS Resource ID identified by SRS-Resourceld as specified in TS 38.331 [5]. The length of the field is 6 bits; - F_{1} : This field indicates the type of a resource used as a spatial relationship for SRS resource indicated with SRS Resource \\mathrm{ID}_{1} field. \\mathrm{F}_{0} refers to the first SRS resource which is indicated SRS Resource \\mathrm{ID}_{1}, \\mathrm{~F}_{1} to the second one and so on. The field is set to 1 to indicate NZP CSI-RS resource index is used, and it is set to 0 to indicate either SSB index or SRS resource index is used. The length of the field is 1 bit; - Resource Serving Cell ID1: This field indicates the identity of the Serving Cell on which the resource used for spatial relationship derivation for SRS Resource [ \\mathrm{D}_{1} is located. The length of the field is 5 bits; - Resource BWP ID: This field indicates a UL BWP as the codepoint of the DCI bandwidth part indicator field as specified in TS 38.212 [9], on which the resource used for spatial relationship derivation for SRS Resource [D, is located. The length of the field is 2 bits;\n---\nThe field Spatial Relation for Resource [D, consists of the following fields: - F_{0} : This field indicates the type of a resource used as a spatial relation for the i^{\\text {th }} Positioning SRS resource within the Positioning SRS Resource Set indicated with the field Positioning SRS Resource Set ID. The field is set to 00 to indicate NZP CSI-RS resource index is used; it is set to 01 to indicate SSB index is used; it is set to 10 to indicate SRS resource index is used; it is set to 11 to indicate DL-PRS index is used. The length of the field is 2 bits; - F_{1} : This field indicates the type of SRS resource used as spatial relation for the i^{\\text {th }} Positioning SRS resource within the SP Positioning SRS Resource Set indicated with the field Positioning SRS Resource Set ID when \\mathrm{F}_{0} is set to 10 . The field is set to 0 to indicate SRS resource index SRS-Resourceld as defined in TS 38.331 [5] is used; the field is set to 1 to indicate Positioning SRS resource index SRS-PosResourceld as defined in TS 38.331 [5] is used; - NZP CSI-RS Resource ID: This field contains an index of NZP-CSI-RS-ResourceID, as specified in TS 38.331 [5], indicating the NZP CSI-RS resource, which is used to derive the spatial relation for the positioning SRS. The length of the field is 8 bits;\n---\n- Resource Configuration ID: This fields indicates the RRC configuration which applies to this MAC CE and corresponds to iab-ResourceConfigID parameter in IAB-ResourceConfig as specified in TS 38.331 [5]. The length of the field is 16 bits; - Number of child IAB-DU beams: This field indicates the number of restricted child IAB-DU beams included in the MAC CE. The length of the field is 8 bits. The number of restricted child IAB-DU beams is contained in the 3 rightmost bits of the field while the remaining 5 bits are considered as reserved bits; - [AB-DU restricted beams type ID: This field determines the type of information used as an indication of a set of child IAB-DU's restricted beams, indicated with the Child IAB-DU Resource set [D, field. IAB-DU restricted beams type ID _{0} refers to the first restricted beam within the resource set, [AB-DU restricted beams type [ \\mathrm{D}_{1} to the second one and so on. If the value of the field is 00 , SSB index is used (contained in the 6 rightmost bits of the Child IAB-DU Resource set ID, field, with the two leftmost bits being set to zero). If the value of the field is 01, SSB index (contained in the 6 rightmost bits of the Child IAB-DU Resource set ID, field) and STC index (contained in the two leftmost bits of the Child IAB-DU Resource set ID, field) are both used. If the value of the field is set to 11, CSI-RS index, which is the NZP-CSI-RS-Resourceld as specified in TS 38.331 [5], is used (comprising all 8 bits of the Child IAB-DU Resource set ID, field). The length of the field is 2 bits; - \\mathrm{C}_{1} : This field indicates whether the octet containing the Number of cell configurations \\mathrm{ID}_{1} field is included or not. \\mathrm{C}_{01} refers to the first restricted beam within the resource set, \\mathrm{C}_{11} to the second one and so on. The field is set to 0 to indicate the octet is not included (and subsequently, that no cell information is included for the relevant\n---\n- Resource Configuration ID: This field indicates the RRC configuration which applies to this MAC CE and corresponds to iab-ResourceConfigID parameter in IAB-ResourceConfig as specified in TS 38.331 [5]. The length of the field is 16 bits; - Number of [AB-MT beams: This field indicates the number of recommended [AB-MT beams included in the MAC CE. The length of the field is 8 bits. The number of recommended [AB-MT beams is contained in the 3 rightmost bits of the field while the remaining 5 bits are considered as reserved bits; - [AB-MT beam type [D]: This field determines the type of information used as an indication of an uplink or downlink [AB-MT beam, indicated with the [AB-MT Resource set [Dr. If the value of the field is 00 , the information included in the [AB-MT Resource set [D, field is the TCI state ID (contained in the 7 rightmost bits of the field). If the value of the field is 01, the information included in the [AB-MT Resource set[D, field is the SSB ID (contained in the 6 rightmost bits of the field). If the value of the field is 10 , the information included in the [AB-MT Resource set [D, field is the CSI-RS index (comprising all 8 bits), which is the NZP-CSI-RSResourceld as specified in TS 38.331 [5]. If the value of the field is 11, the information included in the 6 rightmost bits in the [AB-MT Resource set [D, field is the SRS-ResourceID. The length of the field is 2 bits; - [AB-MT Resource set [D]: an indication of the [AB-MTs recommended downlink or uplink beams. [AB-MT Resource set [ D_{0} field refers to the first [AB-MT's beam, [AB-MT Resource set [D { }_{1} field refers to the second [AB-MT's beam, and so on. The length of the field is 8 bits; - C_{11} : This field indicates whether the octet containing the Number of cell configurations D_{1} field is included or not. C_{01} refers to the first recommended beam within the resource set, C_{11} to the second one and so on. The field is set to 0 to indicate the octet is not included (and subsequently, that no cell information is included for the relevant recommended beam). The field is set to 1 to indicate that Number of cell configurations \\left[D_{1}\\right. field is included. The length of the field is 1 bits;",
    "generated_at": "2026-01-07T16:32:01.719642",
    "model": "gpt-4o",
    "full_api_response": {
      "result": "NO_RULE",
      "type": "ValueDependency",
      "dsl": "",
      "preconditions": [],
      "predicate": "",
      "advisory": false,
      "examples": {
        "valid": [],
        "invalid": []
      },
      "notes": "The evidence provided does not establish a direct semantic constraint between nzp-CSI-RS-Resources and nzp-CSI-ResourceSetId within the same IE. The evidence discusses configurations and behaviors related to NZP-CSI-RS-ResourceSet but does not explicitly link the two fields in a normative manner.",
      "version_tags": [
        "r16",
        "r17"
      ]
    }
  }
}