{
  "dsl_rule": "IMPLIES(EQ(field1, 'format2'), WITHIN(field2, [1,16]))",
  "constraint_type": "ValueDependency",
  "has_valid_rule": true,
  "field_ids": {
    "field1_all": [
      604,
      610
    ],
    "field2_all": [
      611
    ],
    "actual_pairs": [
      [
        [
          604,
          610
        ],
        [
          611
        ]
      ]
    ]
  },
  "predicate": "field2 is within the range [1,16]",
  "preconditions": [
    "field1 is 'format2'"
  ],
  "advisory": false,
  "citations": [],
  "examples": {
    "valid": [
      "If field1 is 'format2', field2 can be any value between 1 and 16 inclusive"
    ],
    "invalid": [
      "If field1 is 'format2', field2 cannot be outside the range [1,16]"
    ]
  },
  "notes": "The number of PRBs (field2) is constrained to be within the range [1,16] when the format (field1) is 'format2'. This rule is derived from the ASN.1 definition and the provided evidence snippets.",
  "version_tags": [
    "r16",
    "r17"
  ],
  "meta": {
    "ie_name": "pucch-Config_resourceToAddModList_group2",
    "field1": "format",
    "field2": "nrofPRBs",
    "is_intra_ie": true,
    "evidence_info": {
      "used_count": 7,
      "original_count": 7,
      "sampled": false
    },
    "all_sources": [
      "ts_138213v170100p_mathpix.md"
    ],
    "all_sections": [
      "9.2.1",
      "9.2.5.3",
      "9.2.3",
      "9.2.5.1"
    ],
    "best_confidence": "VERY_LOW",
    "evidence": "If the format indicates PUCCH-format0, the PUCCH format configured for a PUCCH resource is PUCCH format 0 , where the PUCCH resource also includes an index for an initial cyclic shift provided by initialCyclicShift, a number of symbols for a PUCCH transmission provided by nrofSymbols, a first symbol for the PUCCH transmission provided by startingSymbollndex. For PUCCH transmission in FR2-2, the PUCCH resource can also include a number of PRBs M_{\\mathrm{RB}}^{\\mathrm{PUCCH}, 0} provided by nrofPRBs; otherwise, M_{\\mathrm{RB}}^{\\mathrm{PUCCH}, 0}=1 .\n---\nIf the format indicates PUCCH-formatl, the PUCCH format configured for a PUCCH resource is PUCCH format 1, where the PUCCH resource also includes an index for an initial cyclic shift provided by initialCyclicShift, a number of symbols for a PUCCH transmission provided by nrofSymbols, a first symbol for the PUCCH transmission provided by startingSymbollndex, and an index for an orthogonal cover code by timeDomainOCC. For PUCCH transmission in FR2-2, the PUCCH resource can also include a number of PRBs M_{\\mathrm{RB}}^{\\mathrm{PUCCH}, 1} provided by nrofPRBs; otherwise, M_{\\mathrm{RB}}^{\\mathrm{PUCCH}, 1}=1 .\n---\nIf the format indicates PUCCH-format2 or PUCCH-format3, the PUCCH format configured for a PUCCH resource is PUCCH format 2 or PUCCH format 3, respectively, where the PUCCH resource also includes a number of PRBs provided by nrofPRBs, a number of symbols for a PUCCH transmission provided by nrofSymbols, and a first symbol for the PUCCH transmission provided by startingSymbollndex. If a UE is provided by uselnterlacePUCCH-PUSCH in BWP-UplinkDedicated, and the format indicates PUCCH-format2 or PUCCH-format3 and PUCCH-ResourceExt is provided, the PUCCH resource also includes an index of a second interlace by interlacel, if provided; otherwise, if interlacel is not provided, the PUCCH resource also includes, if provided, an orthogonal cover code length by occLength and an orthogonal cover code index by occ-Index. If the format indicates PUCCH-format 3 and PUCCHResourceExt is provided, the UE assumes that the M_{\\mathrm{RB}}^{\\text {PUCCH,3 }} [4, TS38.211] PRBs with the lowest indexes within the first, and if configured, second interlace are used for PUCCH transmission.\n---\nIf the format indicates PUCCH-format4, the PUCCH format configured for a PUCCH resource is PUCCH format 4, where the PUCCH resource also includes a number of symbols for a PUCCH transmission provided by noffymbols, an orthogonal cover code length by occ-Length, an orthogonal cover code index by occ-Index, and a first symbol for the PUCCH transmission provided by startingSymbollndex. For PUCCH transmission in FR2-2, the PUCCH resource can also include a number of \\mathrm{PRBs} M_{\\mathrm{RB}}^{\\mathrm{PUCCH}, 4} provided by nrofPRBs; otherwise, M_{\\mathrm{RB}}^{\\mathrm{PUCCH}, 4}=1 .\n---\nIf a UE transmits a PUCCH with O_{\\mathrm{ACK}} HARQ-ACK information bits and O_{\\mathrm{CRC}} bits using PUCCH format 2 or PUCCH format 3 in a PUCCH resource that includes M_{\\mathrm{RB}}^{\\mathrm{PUCCH}} PRBs, the UE determines a number of PRBs M_{\\mathrm{RB}, \\mathrm{min}}^{\\mathrm{PUCH}} for the PUCCH transmission to be the minimum number of PRBs, that is smaller than or equal to a number of PRBs M_{\\mathrm{RB}}^{\\mathrm{PUCCH}} provided respectively by nrofPRBs of PUCCH-format 2 or nrofPRBs of PUCCH-format 3 and start from the first PRB from the number of PRBs, that results to \\left(O_{\\mathrm{ACK}}+O_{\\mathrm{CRC}}\\right) \\leq M_{\\mathrm{RB}, \\mathrm{m} \\text { in }}^{\\mathrm{PUCCH}} \\cdot N_{\\mathrm{sc}, \\mathrm{crl}}^{\\mathrm{RB}} \\cdot N_{\\mathrm{symb}-\\mathrm{UCl}}^{\\mathrm{PUCCH}} \\cdot Q_{m} \\cdot r and, if M_{\\mathrm{RB}}^{\\mathrm{PUCCH}}>1 , \\left(O_{\\mathrm{ACK}}+O_{\\mathrm{CRC}}\\right)>\\left(M_{\\mathrm{RB}, \\mathrm{min}}^{\\mathrm{PUCH}}-1\\right) \\cdot N_{\\mathrm{sc}, \\mathrm{ctrl}}^{\\mathrm{RB}} \\cdot N_{\\mathrm{symb}-\\mathrm{UCl}}^{\\mathrm{PUCH}} \\cdot Q_{m} \\cdot r , where N_{\\mathrm{sc}, \\mathrm{ctrl}}^{\\mathrm{RB}}, N_{\\mathrm{symb}-\\mathrm{UCl}}^{\\mathrm{PUCC}}, Q_{m} , and r are defined in clause 9.2.5.2. For PUCCH format 3, if M_{\\mathrm{RB} \\text { min }}^{\\mathrm{PUCCH}} is not equal 2^{\\alpha_{2}} \\cdot 3^{\\alpha_{3}} \\cdot 5^{\\alpha_{5}} according to [4, TS 38.211], M_{\\mathrm{RB} \\text { min }}^{\\mathrm{PUCCH}} is increased to the nearest allowed value of \\operatorname{nrof} P R B s[12, \\mathrm{TS} 38.331] . If \\left(O_{\\mathrm{ACK}}+O_{\\mathrm{CRC}}\\right)>\\left(M_{\\mathrm{RB}}^{\\mathrm{PUCCH}}-1\\right) \\cdot N_{\\mathrm{sc}, \\mathrm{ctrl}}^{\\mathrm{RB}} \\cdot N_{\\mathrm{symb}-\\mathrm{UCl}}^{\\mathrm{PUCCH}} \\cdot Q_{m} . r , the UE transmits the PUCCH over M_{\\mathrm{RB}}^{\\mathrm{PUCCH}} PRBs.\n---\nIf a UE transmits a PUCCH with O_{\\mathrm{ACK}} HARQ-ACK information bits, O_{\\mathrm{SR}}=\\left\\lceil\\log _{2}(K+1)\\right\\rceil SR bits, and O_{\\mathrm{CRC}} CRC bits using PUCCH format 2 or PUCCH format 3 in a PUCCH resource that includes M_{\\mathrm{RB}}^{\\mathrm{PUCCH}} PRBs, the UE determines a number of PRBs M_{\\mathrm{RB}, \\mathrm{min}}^{\\mathrm{PUCCH}} for the PUCCH transmission to be the minimum number of PRBs, that is smaller than or equal to a number of PRBs provided by nrofPRBs in PUCCH-format 2 or nrofPRBs in PUCCH-format 3 and starts from the first PRB from the number of PRBs, that results to \\left(O_{\\mathrm{ACK}}+O_{\\mathrm{SR}}+O_{\\mathrm{CRC}}\\right) \\leq M_{\\mathrm{RB}, \\mathrm{min}}^{\\mathrm{PUCCH}} \\cdot N_{\\mathrm{sc}, \\mathrm{ctrl}}^{\\mathrm{RB}} \\cdot N_{\\mathrm{symb}-\\mathrm{UCl}}^{\\mathrm{PUCH}} \\cdot Q_{m} \\cdot r and, if M_{\\mathrm{RB}}^{\\mathrm{PUCCH}}>1,\\left(O_{\\mathrm{ACK}}+O_{\\mathrm{SR}}+O_{\\mathrm{CRC}}\\right)>\\left(M_{\\mathrm{RB}, \\mathrm{min}}^{\\mathrm{PUCCH}}-1\\right) \\cdot N_{\\mathrm{sc}, \\mathrm{crl}}^{\\mathrm{RB}} \\cdot N_{\\mathrm{symb}-\\mathrm{UCl}}^{\\mathrm{PUCCH}} \\cdot Q_{m} \\cdot r , where N_{\\mathrm{sc}, \\mathrm{ctrl}}^{\\mathrm{RB}}, N_{\\mathrm{symb}-\\mathrm{UCl}}^{\\mathrm{PUCH}}, Q_{m} , and r are defined in clause 9.2.5.2. For PUCCH format 3, if M_{\\mathrm{RB} \\text { min }}^{\\mathrm{PUCCH}} is not equal 2^{\\alpha_{2}} \\cdot 3^{\\alpha_{3}} \\cdot 5^{\\alpha_{5}} according to [4, TS 38.211], M_{\\mathrm{RB}, \\mathrm{m} \\text { in }}^{\\mathrm{PUCCH}} is increased to the nearest allowed value of nrofPRBs [12, \\mathrm{TS} 38.331] . If \\left(O_{\\mathrm{ACK}}+O_{\\mathrm{SR}}+O_{\\mathrm{CRC}}\\right)> \\left(M_{\\mathrm{RB}}^{\\mathrm{PUCCH}}-1\\right) \\cdot N_{\\mathrm{sc}, \\mathrm{ctrl}}^{\\mathrm{RB}} \\cdot N_{\\text {symb-UCl }}^{\\mathrm{PUCCH}} \\cdot Q_{m} \\cdot r , the UE transmits the PUCCH over the M_{\\mathrm{RB}}^{\\mathrm{PUCCH}} PRBs.\n---\nwhere O_{\\mathrm{CRC}, 0} or O_{\\mathrm{CRC}, 1} is a number of CRC bits, if any, for encoding the O_{\\mathrm{ACK}, 0} or the O_{\\mathrm{ACK}, 1} HARQ-ACK information bits, respectively, r_{0} is provided by maxCodeRateLP, and the remaining parameters are as defined in clause 9.2.5.2 with r_{1}=r . For PUCCH format 3, if M_{\\mathrm{RB}, \\mathrm{m} \\text { in }}^{\\mathrm{PUCH}} is not equal to 2^{\\alpha_{2}} \\cdot 3^{\\alpha_{3}} \\cdot 5^{\\alpha_{5}}[4, \\mathrm{TS} 38.211], M_{\\mathrm{RB}, \\min }^{\\mathrm{PUCH}} is increased to a nearest value that is equal to 2^{\\alpha_{2}} \\cdot 3^{\\alpha_{3}} \\cdot 5^{\\alpha_{5}} and does not exceed nrofPRBs.",
    "generated_at": "2025-12-11T14:17:45.054025",
    "model": "gpt-4",
    "full_api_response": {
      "result": "DSL",
      "type": "ValueDependency",
      "dsl": "IMPLIES(EQ(field1, 'format2'), WITHIN(field2, [1,16]))",
      "preconditions": [
        "field1 is 'format2'"
      ],
      "predicate": "field2 is within the range [1,16]",
      "advisory": false,
      "examples": {
        "valid": [
          "If field1 is 'format2', field2 can be any value between 1 and 16 inclusive"
        ],
        "invalid": [
          "If field1 is 'format2', field2 cannot be outside the range [1,16]"
        ]
      },
      "notes": "The number of PRBs (field2) is constrained to be within the range [1,16] when the format (field1) is 'format2'. This rule is derived from the ASN.1 definition and the provided evidence snippets.",
      "version_tags": [
        "r16",
        "r17"
      ]
    }
  }
}