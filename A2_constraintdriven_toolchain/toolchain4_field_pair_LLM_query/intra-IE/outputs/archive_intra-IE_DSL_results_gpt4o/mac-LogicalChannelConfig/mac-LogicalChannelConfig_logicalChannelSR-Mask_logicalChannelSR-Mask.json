{
  "dsl_rule": null,
  "constraint_type": null,
  "has_valid_rule": false,
  "field_ids": [
    [
      24
    ],
    [
      24
    ]
  ],
  "reason": "NO_RULE - insufficient evidence or no valid constraint found",
  "notes": "The evidence provided does not establish any explicit normative constraint between the fields logicalChannelSR-Mask and logicalChannelSR-Mask within the same IE. The evidence lacks both target fields or doesn't relate them.",
  "advisory": false,
  "citations": [
    {
      "doc": "3GPP TS 38.322"
    },
    {
      "doc": "3GPP TS 38.321"
    }
  ],
  "meta": {
    "ie_name": "mac-LogicalChannelConfig",
    "field1": "logicalChannelSR-Mask",
    "field2": "logicalChannelSR-Mask",
    "evidence_info": {
      "used_count": 12,
      "original_count": 34,
      "sampled": true
    },
    "all_sources": [
      "ts_138321v180200p_mathpix.md",
      "ts_138322v160100p_mathpix.md"
    ],
    "all_sections": [
      "5.22.1.4.1.1",
      "4.2.1",
      "5.22.1.11",
      "5.22.1.1",
      "5.4.5",
      "6.1.3.1",
      "5.22.1.4.1.3",
      "5.18.10",
      "5.19",
      "5.4.3.1.1",
      "5.4.4",
      "5.4.3.1.3"
    ],
    "best_confidence": "VERY_LOW",
    "evidence": "An RLC entity receives/delivers RLC SDUs from/to upper layer and sends/receives RLC PDUs to/from its peer RLC entity via lower layers. An RLC PDU can either be an RLC data PDU or an RLC control PDU. If an RLC entity receives RLC SDUs from upper layer, it receives them through a single RLC channel between RLC and upper layer, and after forming RLC data PDUs from the received RLC SDUs, the RLC entity submits the RLC data PDUs to lower layer through a single logical channel. If an RLC entity receives RLC data PDUs from lower layer, it receives them through a single logical channel, and after forming RLC SDUs from the received RLC data PDUs, the RLC entity delivers the RLC SDUs to upper layer through a single RLC channel between RLC and upper layer. If an RLC entity submits/receives RLC control PDUs to/from lower layer, it submits/receives them through the same logical channel it submits/receives the RLC data PDUs through. An RLC entity can be configured to perform data transfer in one of the following three modes: Transparent Mode (TM), Unacknowledged Mode (UM) or Acknowledged Mode (AM). Consequently, an RLC entity is categorized as a TM RLC entity, an UM RLC entity or an AM RLC entity depending on the mode of data transfer that the RLC entity is configured to provide.\n---\n- Bj which is maintained for each logical channel j. The MAC entity shall initialize Bj of the logical channel to zero when the logical channel is established. For each logical channel j , the MAC entity shall: 1> increment B j by the product \\mathrm{PBR} \\times \\mathrm{T} before every instance of the LCP procedure, where T is the time elapsed since Bj was last incremented;\n---\n5.4.3.1.3 Allocation of resources Before the successful completion of the Random Access procedure initiated for DAPS handover, the target MAC entity shall not select the logical channel(s) corresponding to non-DAPS DRB(s) for the uplink grant received in a Random Access Response or the uplink grant for the transmission of the MSGA payload. The source MAC entity shall select only the logical channel(s) corresponding to DAPS DRB(s) during DAPS handover. The MAC entity shall, when a new transmission is performed:\n---\nThe MAC entity may be configured with zero, one, or more SR configurations. An SR configuration consists of a set of PUCCH resources for SR across different BWPs and cells. For a logical channel or for SCell beam failure recovery (see clause 5.17) and for consistent LBT failure recovery (see clause 5.21), at most one PUCCH resource for SR is configured per BWP. For a logical channel serving a radio bearer configured with SDT, PUCCH resource for SR is not configured for SDT. For beam failure recovery of BFD-RS set(s) of Serving Cell, up to two PUCCH resources for SR is configured per BWP. For positioning measurement gap activation/deactivation request, a dedicated SR configuration is configured. Each SR configuration corresponds to one or more logical channels and/or to SCell beam failure recovery and/or to consistent LBT failure recovery and/or to beam failure recovery of a BFD-RS set and/or to positioning measurement gap activation/deactivation request. Each logical channel, SCell beam failure recovery, beam failure recovery of a BFDRS set and consistent LBT failure recovery, may be mapped to zero or one SR configuration, which is configured by RRC. The SR configuration of the logical channel that triggered a BSR (clause 5.4.5) or a DSR (clause 5.4.9) or the SCell beam failure recovery or the beam failure recovery of a BFD-RS set or the consistent LBT failure recovery (clause 5.21) (if such a configuration exists) or positioning measurement gap activation/deactivation request (clause 5.25 ) is considered as corresponding SR configuration for the triggered SR. Any SR configuration may be used for an SR triggered by Pre-emptive BSR (clause 5.4.7) or Timing Advance reporting (clause 5.4.8). RRC configures the following parameters for the scheduling request procedure:\n---\n2> if a Regular BSR has been triggered and logicalChannelSR-DelayTimer is not running: 3> if there is no UL-SCH resource available for a new transmission; or 3> if the MAC entity is configured with configured uplink grant(s) and the Regular BSR was triggered for a logical channel for which logicalChannelSR-Mask is set to false; or 3> if the UL-SCH resources available for a new transmission do not meet the LCP mapping restrictions (see clause 5.4.3.1) configured for the logical channel that triggered the BSR:\n---\n- indicate to upper layers the recommended bit rate for the indicated logical channel and direction. The MAC entity may request the gNB to indicate the recommended bit rate for a specific logical channel and a specific direction. If the MAC entity is requested by upper layers to query the gNB for the recommended bit rate for a logical channel and for a direction (i.e. for uplink or downlink), the MAC entity shall: 1> if a Recommended bit rate query for this logical channel and this direction has not been triggered:\n---\nWhen datalnactivityTimer is configured, the UE shall: 1> if any MAC entity receives a MAC SDU for DTCH logical channel, DCCH logical channel, or CCCH logical channel, or multicast MTCH logical channel; or 1> if any MAC entity transmits a MAC SDU for DTCH logical channel, or DCCH logical channel:\n---\nNOTE 1: If the MAC entity is configured with Sidelink resource allocation mode 2 or Sidelink resource allocation scheme 2 to transmit using a pool of resources in one carrier as indicated in TS 38.331 [5] or TS 36.331 [21]; Or if the MAC entity is configured with Sidelink resource allocation mode 2 transmit using pools of resources in multiple carriers as indicated in TS 38.331 [5], the MAC entity can create a selected sidelink grant on the pool of resources based on random selection, or partial sensing, or full sensing only after releasing configured sidelink grant(s), if any. NOTE 2: For each carrier configured by upper layers associated with the concerned sidelink logical channel, the MAC entity expects that PSFCH is always configured by RRC for at least one pool of resources in s / TxPoolSelectedNormal and for the resource pool in sl-TxPoolExceptional in case that at least a logical channel configured with sl-HARQ-FeedbackEnabled is set to enabled. NOTE 2A: For the transmission of Sidelink Inter-UE Coordination Request MAC CE, the MAC entity selects the TX pool of resource where the IUC resource set is required. For the transmission of Sidelink Inter-UE Coordination Information MAC CE, the MAC entity selects the TX pool of resource where the IUC resource set is located.\n---\n- SBj which is maintained for each logical channel j . The MAC entity shall initialize SBj of the logical channel to zero when the logical channel is established. For each logical channel j , the MAC entity shall: 1> increment S B j by the product sPBR \\times T before every instance of the LCP procedure, where T is the time elapsed since SBJ was last incremented;\n---\nThe MAC entity shall for each SCI corresponding to a new transmission for SL-SCH: 1> allocate resources to the logical channels as follows: 2> logical channels selected in clause 5.22.1.4.1.2 for the SL grant with SBJ >0 are allocated resources in a decreasing priority order. If the sPBR of a logical channel is set to minity, the MAC entity shall allocate resources for all the data that is available for transmission on the logical channel before meeting the sPBR of the lower priority logical channel(s); 2> decrement SBj by the total size of MAC SDUs served to logical channel j above; 2> if any resources remain, all the logical channels selected in clause 5.22.1.4.1.2 are served in a strict decreasing priority order (regardless of the value of SBJ) until either the data for that logical channel or the SL grant is exhausted, whichever comes first. Logical channels configured with equal priority should be served equally.\n---\n1> else: 2> for each sidelink logical channel, if any, where data is available and that are allowed on the carrier for which Tx carrier (re-)selection is triggered according to clause 5.22.1.1, if the CBR of the carrier is below sl-threshCBR-FreqKeeping associated with priority of the sidelink logical channel, for each sidelink logical channel, if any, where data is available and that are allowed on the carrier for which Tx carrier (re-)selection is triggered according to clause 5.22.1.1: ETSI\n---\n- LCG ID: The Logical Channel Group ID field identifies the group of logical channel(s) whose buffer status is being reported. The length of the field is 3 bits for the case of Short BSR and Short Truncated BSR formats, and 8 bits for the case of Extended Short BSR and Extended Short Truncated BSR formats; - LCG { }_{1} . For the Long BSR format, Refined Long BSR format, Extended Long BSR format, Pre-emptive BSR format, and Extended Pre-emptive BSR format, this field indicates the presence of the Buffer Size field for the logical channel group i. The L C G_{1} field set to 1 indicates that the Buffer Size field for the logical channel group i is reported. The LCG, field set to 0 indicates that the Buffer Size field for the logical channel group i is not reported. For the Long Truncated BSR format and the Extended Long Truncated BSR format, this field indicates whether logical channel group i has data available. The \\mathrm{LCG}_{1} field set to 1 indicates that logical channel group i has data available. The LCG, field set to 0 indicates that logical channel group i does not have data available; - \\mathrm{BT}_{1} : This field is included only in the Refined Long BSR format. This field is present only if the corresponding LCG { }_{1} is set to 1 ; otherwise, this field is reserved and set to 0 . If present, this field indicates which buffer size table is used to set the Buffer Size field for the logical channel group i. The BT, field set to 1 indicates that the buffer size table specified in Table 6.1.3.1-3 is used for the logical channel group i. The BT, field set to 0 indicates that the buffer size table specified in Table 6.1.3.1-2 is used for the logical channel group i; - Buffer Size: The Buffer Size field identifies the total amount of data available according to the data volume calculation procedure in TSs 38.322 [3] and 38.323 [4] across all logical channels of a logical channel group after the MAC PDU has been built (i.e. after the logical channel prioritization procedure, which may result the value of the Buffer Size field to zero). The amount of data is indicated in number of bytes. The size of the RLC headers and MAC subheaders are not considered in the buffer size computation. The length of this field for the Short BSR format and the Short Truncated BSR format is 5 bits. The length of this field for the Extended Short BSR format and the Extended Short Truncated BSR format is 8 bits. The length of this field for the Long BSR format, the Refined Long BSR format, the Long Truncated BSR format, the Extended Long BSR format, and the Extended Long Truncated format is 8 bits. The values for the 5 -bit Buffer Size fields are shown in Table 6.1.3.11. The values for the 8-bit Buffer Size fields in the Long BSR format, the Long Truncated BSR format, the Extended Long BSR format, and the Extended Long Truncated format are shown in Table 6.1.3.1-2. For the Refined Long BSR format, if an LCG is configured with additionalBS-TableAllowed and the amount of data for the LCG is within the buffer sizes specified in Table 6.1.3.1-3, the MAC entity shall use the buffer sizes specified in Table 6.1.3.1-3 to set the value of this field; otherwise, the MAC entity shall use Table 6.1.3.1-2 instead. For the Long BSR format, the Refined Long BSR format, the Long Truncated BSR format, the Extended Long BSR format, and the Extended Long Truncated format, the Buffer Size fields are included in ascending order based on the LCG { }_{1} . For the Long Truncated BSR format and the Extended Long Truncated format the number of Buffer Size fields included is maximised, while not exceeding the number of padding bits. For the Pre-emptive BSR format and the Extended Pre-emptive BSR format, the Buffer Size field identifies the total amount of the data expected to arrive at the IAB-MT of the node where the Pre-emptive BSR/Extended Preemptive BSR is triggered and does not include the volume of data currently available in the IAB-MT. Preemptive BSR format is identical to the Long BSR format. Extended Pre-emptive BSR format is identical to the Extended Long BSR format.",
    "generated_at": "2025-12-09T09:46:51.902026",
    "model": "gpt-4o",
    "full_api_response": {
      "result": "NO_RULE",
      "type": "ValueDependency",
      "dsl": "",
      "preconditions": [],
      "predicate": "",
      "advisory": false,
      "examples": {
        "valid": [],
        "invalid": []
      },
      "notes": "The evidence provided does not establish any explicit normative constraint between the fields logicalChannelSR-Mask and logicalChannelSR-Mask within the same IE. The evidence lacks both target fields or doesn't relate them.",
      "version_tags": [
        "r16",
        "r17"
      ]
    }
  }
}