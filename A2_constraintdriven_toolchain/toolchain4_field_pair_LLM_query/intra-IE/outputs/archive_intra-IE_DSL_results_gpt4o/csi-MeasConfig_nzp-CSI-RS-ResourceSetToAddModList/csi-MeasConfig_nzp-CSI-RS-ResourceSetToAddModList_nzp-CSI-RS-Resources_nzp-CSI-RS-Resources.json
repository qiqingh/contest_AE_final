{
  "dsl_rule": null,
  "constraint_type": null,
  "has_valid_rule": false,
  "field_ids": [
    [
      742,
      744
    ],
    [
      742,
      744
    ]
  ],
  "reason": "NO_RULE - insufficient evidence or no valid constraint found",
  "notes": "The evidence does not provide any explicit normative constraint or relation between the two instances of the field nzp-CSI-RS-Resources within the same IE. The evidence primarily discusses configurations and behaviors related to other parameters.",
  "advisory": false,
  "citations": [
    {
      "doc": "3GPP TS 38.214"
    },
    {
      "doc": "3GPP TS 38.331"
    }
  ],
  "meta": {
    "ie_name": "csi-MeasConfig_nzp-CSI-RS-ResourceSetToAddModList",
    "field1": "nzp-CSI-RS-Resources",
    "field2": "nzp-CSI-RS-Resources",
    "evidence_info": {
      "used_count": 12,
      "original_count": 31,
      "sampled": true
    },
    "all_sources": [
      "ts_138331v170000p_mathpix.md",
      "ts_138214v170100p_mathpix.md"
    ],
    "all_sections": [
      "5.2.2.3.1",
      "5.1.6.1.2",
      "5.1.6.1.1",
      "5.2.1.5.1",
      "6.1",
      "6.2.1",
      "6.3.2",
      "5.1.5",
      "5.2.1.4.1",
      "5.2.1.4.2",
      "5.2.1.4",
      "5.1.6.1"
    ],
    "best_confidence": "HIGH",
    "evidence": "The CSI-RS defined in Clause 7.4.1.5 of [4, TS 38.211], may be used for time/frequency tracking, CSI computation, L1-RSRP computation, L1-SINR computation, mobility, and tracking during fast SCell activation. For a CSI-RS resource associated with a NZP-CSI-RS-ResourceSet with the higher layer parameter repetition set to 'on', the UE shall not expect to be configured with CSI-RS over the symbols during which the UE is also configured to monitor the CORESET, while for other NZP-CSI-RS-ResourceSet configurations, if the UE is configured with a CSI-RS resource and a search space set associated with a CORESET in the same OFDM symbol(s), the UE may assume that the CSI-RS and a PDCCH DM-RS transmitted in all the search space sets associated with CORESET are quasi co-located with 'typeD', if 'typeD' is applicable. If the CORESET is activated with two TCI states, UE may assume that the first TCI state of the CORESET as the default QCL assumption for the CSI-RS. This also applies to the case when CSI-RS and the CORESET are in different intra-band component carriers, if 'typeD' is applicable. Furthermore, the UE shall not ETSI\n---\nFor a NZP-CSI-RS-ResourceSet configured with the higher layer parameter trs-Info, the UE shall assume the antenna port with the same port index of the configured NZP CSI-RS resources in the NZP-CSI-RS-ResourceSet is the same. - For frequency range 1 , the UE may be configured with one or more NZP CSI-RS set(s), where a NZP-CSI-RSResourceSet consists of four periodic NZP CSI-RS resources in two consecutive slots with two periodic NZP CSI-RS resources in each slot. If no two consecutive slots are indicated as downlink slots by t d d-U L-D L- Configuration Common or tdd-UL-DL-ConfigDedicated, then the UE may be configured with one or more NZP CSI-RS set(s), where a NZP-CSI-RS-ResourceSet consists of two periodic NZP CSI-RS resources in one slot. - For frequency range 2 the UE may be configured with one or more NZP CSI-RS set(s), where a NZP-CSI-RSResourceSet consists of two periodic CS[-RS resources in one slot or with a NZP-CSI-RS-ResourceSet of four periodic NZP CSI-RS resources in two consecutive slots with two periodic NZP CSI-RS resources in each slot.\n---\n5.1.6.1.2 CSI-RS for L1-RSRP and L1-SINR computation If a UE is configured with a NZP-CSI-RS-ResourceSet configured with the higher layer parameter repetition set to 'on', the UE may assume that the CSI-RS resources, described in Clause 5.2.2.3.1, within the NZP-CSI-RS-ResourceSet are transmitted with the same downlink spatial domain transmission filter, where the CSI-RS resources in the NZP-CSI-RS- ETSI\n---\nFor periodic/semi-persistent CSI-RS, the UE can assume that the indicated DLorJointTCIState is not applied. For an aperiodic CSI-RS resource in an NZP-CSI-RS-ResourceSet configured with higher layer parameter trs-Info, the UE shall expect that a TCI-State indicates qcl-Type set to 'typeA' with a periodic CSI-RS resource in a NZP-CSI-RSResourceSet configured with higher layer parameter trs-Info and, when applicable, qc/-Type set to 'typeD' with the same periodic CSI-RS resource. For a CSI-RS resource in an NZP-CSI-RS-ResourceSet configured without higher layer parameter trs-Info and without the higher layer parameter repetition, the UE shall expect that a TCI-State indicates one of the following quasi colocation type(s):\n---\n\\end{table} When the UE is configured with higher layer parameter NZP-CSI-RS-ResourceSet and when the higher layer parameter repetition is set to 'off', the UE shall determine a CRI from the supported set of CRI values as defined in Clause 6.3.1.1.2 of [5, TS 38.212] and report the number in each CRI report. When the higher layer parameter repetition is set to 'on', CRI is not reported. CRI reporting is not supported when the higher layer parameter codebookType is set to 'type[I', 'type[I-PortSelection', 'type[I-r16', to 'type[I-PortSelection-r16', or 'type[I-PortSelection-r17'. For a periodic or semi-persistent CSI report on PUCCH, the periodicity T_{C S I} (measured in slots) and the slot offset T_{\\text {offset }} are configured by the higher layer parameter reportSlotConfig. Unless specified otherwise, the UE shall transmit the CSI report in frames with SFN n_{f} and slot number within the frame n_{s, f}^{\\mu} satisfying\n---\nFor aperiodic CSI, if groupBasedBeamReporting-r 17 is not configured, each trigger state configured using the higher layer parameter CSI-AperiodicTriggerState is associated with one or multiple CSI-ReportConfig where each CSIReportConfig is linked to periodic, or semi-persistent, or aperiodic resource setting(s): - When one Resource Setting is configured, the Resource Setting (given by higher layer parameter resourcesForChannelMeasurement) is for channel measurement for L1-RSRP or for channel and interference measurement for L1-SINR computation. - When two Resource Settings are configured, the first one Resource Setting (given by higher layer parameter resourcesForChannelMeasurement) is for channel measurement and the second one (given by either higher layer parameter csi-IM-ResourcesForInterference or higher layer parameter nzp-CSI-RS-ResourcesForInterference) is for interference measurement performed on CSI-IM or on NZP CSI-RS. - When three Resource Settings are configured, the first Resource Setting (higher layer parameter resourcesForChannelMeasurement) is for channel measurement, the second one (given by higher layer parameter csi-IM-ResourcesForInterference) is for CSI-[M based interference measurement and the third one (given by higher layer parameter nzp-CSI-RS-ResourcesForInterference) is for NZP CSI-RS based interference measurement.\n---\n- if the UE is configured with the higher layer parameter groupBasedBeamReporting set to 'enabled', the UE shall report in a single reporting instance two different CRI or SSBRI for each report setting, where CSI-RS and/or SSB resources can be received simultaneously by the UE. If the UE is configured with a CSI-ReportConfig with the higher layer parameter reportQuantity set to 'cri-RSRP', 'cri-RI-PMI-CQI ', 'cri-RI-i1', 'cri-RI-i1-CQI', 'cri-RI-CQI', 'cri-RI-LI-PMI-CQI', 'cri-SINR', or 'cri-SINRCapability[Set]Index', and K_{s}>1 resources are configured in the corresponding resource set for channel measurement, then the UE shall derive the CSI parameters other than CRI conditioned on the reported CRI, where CRI k(k \\geq 0) corresponds to the configured ( k+1 )-th entry of associated nzp-CSI-RS-Resources in the corresponding NZP-CSI-RSResourceSet for channel measurement, and ( k+1 )-th entry of associated csi-IM-Resource in the corresponding csi-IMResourceSet (if configured) or ( k+1 )-th entry of associated nzp-CSI-RS-Resources in the corresponding NZP-CSI-RSResourceSet (if configured for CSI-ReportConfig with reportQuantity set to 'cri-SINR' or 'cri-SINRCapability[Set][ndex') for interference measurement. If K_{s}=2 \\mathrm{CSI} -RS resources are configured, each resource shall contain at most 16 CSI-RS ports. If 2<K_{s} \\leq 8 CSI-RS resources are configured, each resource shall contain at most 8 CSI-RS ports. If the UE is configured with a CSI-ReportConfig with the higher layer parameter reportQuantity set to 'cri-RI-PMICQI', or 'cri-RI-LI-PMI-CQI' and the corresponding NZP-CSI-RS-ResourceSet for channel measurement is configured with K_{s} \\geq 2 resources, two Resource Groups with K_{1} \\geq 1 resources in Group 1, K_{2} \\geq 1 resources in Group 2, K_{1}+ K_{2}=K_{s} , and N Resource Pairs:\n---\n- When the number of CSI triggering states in CSI-AperiodicTriggerStateList is less than or equal to 2^{N_{T s}}-1 , the CSI request field in DCI directly indicates the triggering state. - For each aperiodic CSI-RS resource in a CSI-RS resource set associated with each CSI triggering state, the UE is indicated the quasi co-location configuration of quasi co-location RS source(s) and quasi co-location type(s), as described in clause 5.1.5, through higher layer signaling of qcl-info which contains a list of references to TCIState's for the aperiodic CSI-RS resources associated with the CSI triggering state. If a State referred to in the list is configured with a reference to an RS configured with qcl-Type set to 'typeD', that RS may be an SS/PBCH block located in the same or different CC/DL BWP or a CSI-RS resource configured as periodic or semipersistent located in the same or different CC/DL BWP. - If the scheduling offset between the last symbol of the PDCCH carrying the triggering DCI and the first symbol of the aperiodic CSI-RS resources in a NZP-CSI-RS-ResourceSet configured without higher layer parameter trs-Info is smaller than the UE reported threshold beamSwitchTiming, as defined in [13, TS 38.306], when the reported value is one of the values of \\{14,28,48\\} \\cdot 2^{\\max \\left(0, \\mu_{\\text {CSIRS }}-3\\right)} and enableBeamSwitchTiming is not provided, or is smaller than 48 \\cdot 2^{\\max \\left(0, \\mu \\text { CSIRS }^{-3}\\right)} when the UE provides beamSwitchTiming-r16, enableBeamSwitchTiming is provided and the NZP-CSI-RS-ResourceSet is configured with the higher layer parameter repetition set to 'off' or configured without the higher layer parameter repetition, or is smaller than the UE reported threshold beamSwitchTiming-r 16, when enableBeamSwitchTiming is provided and the NZP-CSI-RS-ResourceSet is configured with the higher layer parameter repetition set to 'on'. - If a UE is configured with enableDefaultTCI-StatePerCoresetPoollndex and the UE is configured by higher layer parameter PDCCH-Config that contains two different values of coresetPoollndex in ControlResourceSet - if there is any other DL signal with an indicated TCI state in the same symbols as the CSI-RS, the UE applies the QCL assumption of the other DL signal also when receiving the aperiodic CSI-RS. The other DL signal refers to PDSCH scheduled by a PDCCH associated with the same coresetPoolIndex as the PDCCH triggering the aperiodic CSI-RS and scheduled with offset larger than or equal to the threshold timeDurationForQCL, as defined in [13, TS 38.306], aperiodic CSI-RS triggered by a PDCCH associated with the same coresetPoollndex as the PDCCH triggering the aperiodic CSI-RS and scheduled with offset larger than or equal to the UE reported threshold beamSwitchTiming when the reported value is one of the values \\{14,28,48\\} \\cdot 2^{\\max \\left(0, \\mu \\text { CSIRS }^{-3}\\right)} and enableBeamSwitchTiming is not provided, aperiodic CSI-RS triggered by a PDCCH associated with the same coresetPoollndex as the PDCCH triggering the aperiodic CSI-RS and scheduled with offset larger than or equal to 48. 2^{\\max \\left(0, \\mu_{\\text {CSIRS }}-3\\right)} when the reported value of beamSwitchTiming-r 16 is one of the values \\{224,336\\} . 2^{\\max \\left(0, \\mu_{\\text {CSIRS }}{ }^{-3}\\right)} and enableBeamSwitchTiming is provided, periodic CSI-RS, semi-persistent CSI-RS;\n---\n- density in resourceMapping defines CSI-RS frequency density of each CSI-RS port per PRB, and CSI-RS PRB offset in case of the density value of 1 / 2 , where the allowable values are given in Clause 7.4 - 1.5 of [4, TS 38.211]. For density 1/2, the odd/even PRB allocation indicated in density is with respect to the common resource block grid. - cdm-Type in resourceMapping defines CDM values and pattern, where the allowable values are given in Clause 7.4.1.5 of [4, TS 38.211]. - powerControlOffset: which is the assumed ratio of PDSCH EPRE to NZP CSI-RS EPRE when UE derives CSI feedback and takes values in the range of [-8,15] \\mathrm{dB} with 1 dB step size. For CQI calculation based on a pair of NZP CSI-RS resources, powerControlOffset of each NZP CSI-RS resource in the pair of NZP CSI-RS resources for channel measurement is the assumed ratio of EPRE when UE derives CSI feedback and takes values in the range of [-8,15] \\mathrm{dB} with 1 dB step size. - powerControlOffsetSS: which is the assumed ratio of NZP CSI-RS EPRE to SS/PBCH block EPRE. - scramblingID defines scrambling ID of CSI-RS with length of 10 bits.\n---\nThe UE can be configured with a list of up to 64 UL-TCIState configurations within the higher layer parameter BWPUplinkDedicated. Each UL-TCIState configuration contains a parameter for configuring one reference signal, if applicable, for determining UL TX spatial filter for dynamic-grant and configured-grant based PUSCH and PUCCH resource in a CC, and SRS. For the PUSCH transmission corresponding to a Type 1 configured grant or a Type 2 configured grant activated by DCI format 0 \\_0 or 0 \\_1 , the parameters applied for the transmission are provided by configuredGrantConfig except for dataScramblingIdentityPUSCH, txConfig, codebookSubset, maxRank, scaling of UCI-OnPUSCH, which are provided by pusch-Config. For the PUSCH transmission corresponding to a Type 2 configured grant activated by DCI format 0 \\_2 , the parameters applied for the transmission are provided by configuredGrantConfig except for dataScramblingIdentityPUSCH, txConfig, codebookSubsetDCI-0-2, maxRankDCI-0-2, scaling of UCI-OnPUSCH, resourceAllocationTypelGranularityDCI-0-2 provided by pusch-Config. If the UE is provided with transformPrecoder in configured GrantConfig, the UE applies the higher layer parameter tp-pi2BPSK, if provided in pusch-Config, according to the procedure described in clause 6.1.4 for the PUSCH transmission corresponding to a configured grant. When the UE is configured DLorJointTCIState or UL-TCIState, the UE shall perform PUSCH transmission corresponding to a Type 1 configured grant or a Type 2 configured grant or a dynamic grant according to the spatial relation, if applicable, with a reference to the RS for determining UL Tx spatial filter or the RS configured with qclType set to 'typeD' of the indicated DLorJointTCIState or UL-TCIState. The reference RS in the indicated DLorJointTCIState can be a CSI-RS resource in a NZP-CSI-RS-ResourceSet configured with higher layer parameter repetition, or a CSI-RS resource in an NZP-CSI-RS-ResourceSet configured with higher layer parameter trs-Info. The reference RS in the indicated UL-TCIState can be a CSI-RS resource in a NZP-CSI-RS-ResourceSet configured with higher layer parameter repetition, a CSI-RS resource in an NZP-CSI-RS-ResourceSet configured with higher layer parameter trs-Info, an SRS resource in an SRS resource set with the higher layer parameter usage set to 'beamManagement', or SS/PBCH block associated with the same or different PCI from the PCI of the serving cell. ETSI\n---\nThe UE may be configured with one or more Sounding Reference Signal (SRS) resource sets as configured by the higher layer parameter SRS-ResourceSet or SRS-PosResourceSet. For each SRS resource set configured by SRSResourceSet, a UE may be configured with K \\geq 1 SRS resources (higher layer parameter SRS-Resource), where the maximum value of K is indicated by UE capability [13,38.306]. When SRS resource set is configured with the higher layer parameter SRS-PosResourceSet, a UE may be configured with K \\geq 1 SRS resources (higher layer parameter SRSPosResource), where the maximum value of K is 16 . The SRS resource set applicability is configured by the higher layer parameter usage in SRS-ResourceSet. When the higher layer parameter usage is set to 'beamManagement', only one SRS resource in each of multiple SRS resource sets may be transmitted at a given time instant, but the SRS resources in different SRS resource sets with the same time domain behaviour in the same BWP may be transmitted simultaneously. When the UE is configured DLorJoint-TCIState or UL-TCIState, the UE can assume that SRS resource(s) in any SRS resource set, except SRS resource set for positioning and an SRS resource set configured with followUnifiedTCIstater17, can be configured with DLorJoint-TCIState or UL-TCIState or updated as described in clause [6.1.3.X] of [10, TS 38.321]. The reference RS in the DLorJoint-TCIState can be a CSI-RS resource in a NZP-CSI-RS-ResourceSet configured with higher layer parameter repetition, or a CSI-RS resource in an NZP-CSI-RS-ResourceSet configured with higher layer parameter t r s -Info. The reference RS in the UL-TCIState(s) can be a CSI-RS resource in a NZP-CSI-RS-ResourceSet configured with higher layer parameter repetition, a CSI-RS resource in an NZP-CSI-RS-ResourceSet configured with higher layer parameter trs-Info, an SRS resource with the higher layer parameter usage set to beamManagement', or SS/PBCH block associated with the same or different PCI from the PCI of the serving cell. If an SRS resource set, except an SRS resource set for positioning, is configured with [followUnifiedTCIstate-r17], the UE shall transmit the target SRS resource(s) within the SRS resource set according to the spatial relation, if applicable, with a reference to the RS used for determining UL TX spatial filter or the RS configured with qcl-Type set to 'typeD' in QCL-Info of the indicated DLorJoint-TCIState or UL-TCIState. The reference RS in the indicated DLorJoint-TCIState can be a CSI-RS resource in a NZP-CSI-RS-ResourceSet configured with higher layer parameter repetition, or a CSI-RS resource in an NZP-CSI-RS-ResourceSet configured with higher layer parameter trs-Info. The reference RS in the indicated UL-TCIState can be a CSI-RS resource in a NZP-CSI-RS-ResourceSet configured with higher layer parameter repetition, a CSI-RS resource in an NZP-CSI-RS-ResourceSet configured with higher layer parameter trs-Info, an SRS resource with the higher layer parameter usage set to 'beamManagement', or SS/PBCH block associated with the same or different PCI from the PCI of the serving cell.\n---\n\\begin{tabular}{l} qcl-info, qcl-info2 List of references to TCI-States for providing the QCL source and QCL type for each NZP-CSI-RS-Resource listed in nzp-CSI-RS-Resources of the NZP-CSI-RS-ResourceSet indicated by resourceSet within nzp-CSI-RS. Each TCI-Stateld refers to the TCI-State which has this value for tci-Stateld and is defined in tci-StatesToAddModList in the PDSCH-Config included in the BWP-Downlink corresponding to the serving cell and to the DL BWP to which the resourcesForChannelMeasurement (in the CSI-ReportConfig indicated by reportConfig/d above) belong to. First entry in qc/-info corresponds to first entry in nzp-CSI-RS-Resources of that NZP-CSI-RS-ResourceSet, second entry in qclinfo corresponds to second entry in nzp-CSI-RS-Resources, and so on (see TS 38.214 [19], clause 5.2.1.5.1). When this field is absent for aperiodic CSIRS, the UE shall use QCL information included in the \"indicated\" DL only/Joint TCI state as specified in TS 38.214 \\end{tabular} \\begin{tabular}{l}",
    "generated_at": "2025-12-09T09:47:50.654079",
    "model": "gpt-4o",
    "full_api_response": {
      "result": "NO_RULE",
      "type": "ValueDependency",
      "dsl": "",
      "preconditions": [],
      "predicate": "",
      "advisory": false,
      "examples": {
        "valid": [],
        "invalid": []
      },
      "notes": "The evidence does not provide any explicit normative constraint or relation between the two instances of the field nzp-CSI-RS-Resources within the same IE. The evidence primarily discusses configurations and behaviors related to other parameters.",
      "version_tags": [
        "r16",
        "r17"
      ]
    }
  }
}