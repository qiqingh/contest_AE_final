{
  "dsl_rule": null,
  "constraint_type": null,
  "has_valid_rule": false,
  "field_ids": [
    [
      712,
      713
    ],
    [
      712,
      713
    ]
  ],
  "reason": "NO_RULE - insufficient evidence or no valid constraint found",
  "notes": "The evidence provided does not contain any explicit normative constraints or relations between the 'density' fields within the same IE. The evidence snippets do not mention both target fields or relate them directly.",
  "advisory": false,
  "citations": [
    {
      "doc": "3GPP TS 38.211"
    },
    {
      "doc": "3GPP TS 38.214"
    },
    {
      "doc": "3GPP TS 38.331"
    }
  ],
  "meta": {
    "ie_name": "nzp-CSI-RS-ResourceToAddModList_resourceMapping_group0",
    "field1": "density",
    "field2": "density",
    "evidence_info": {
      "used_count": 12,
      "original_count": 12,
      "sampled": false
    },
    "all_sources": [
      "ts_138331v170000p_mathpix.md",
      "ts_138211v180200p_mathpix.md",
      "ts_138214v170100p_mathpix.md"
    ],
    "all_sections": [
      "5.2.1.2",
      "5.2.2.3.1",
      "7.4.1.5.3",
      "6.2.3.1",
      "6.3.2",
      "5.1.6.1.3",
      "5.2.1.4"
    ],
    "best_confidence": "VERY_LOW",
    "evidence": "- \\left[b_{2} \\cdots b_{0}\\right], k_{i-1}=4 f(i) for row 4 of Table 7.4.1.5.3-1 - \\left[b_{5} \\cdots b_{0}\\right], k_{i-1}=2 f(i) for all other cases where f(i) is the bit number of the i^{\\text {th }} bit in the bitmap set to one, repeated across every [1 / \\rho] of the resource blocks configured for CSI-RS reception by the UE. The starting position and number of the resource blocks in which the UE shall assume that CSI-RS is transmitted are given by the higher-layer parameters freqBand and density in the CSI-RSResourceMapping [E for the bandwidth part given by the higher-layer parameter BWP-Id in the CSI-ResourceConfig IE or given by the higher-layer parameters nrofPRBs in the CSI-RS-CellMobility [E where the the startPRB given by csi r s -Measurement B W is relative to common resource block 0 . For NZP CSI-RS configured by TRS-ResourceSet [E, the starting position and number of the resource blocks in which the CSI-RS can be transmitted are given by the higherlayer parameters nrofRBs, and startingRB in the TRS-ResourceSet [E, where startingRB is relative to common resource block 0 and the density \\rho=3 . The UE shall assume that a CSI-RS is transmitted using antenna ports p numbered according to\n---\nThe higher layer parameter P T R S -DownlinkConfig provides the parameters p t r s-M C S_{i}, i=1,2,3 and with values in range 0-29 when MCS Table 5-1.3-1-1 or MCS Table 5-1.3-1-3 is used and 0-28 when MCS Table 5-1 3-1-2 is used, and 0-27 when MCS Table 5-1.3-1-4 is used, respectively. ptrs-MCS4 is not explicitly configured by higher layers but assumed 29 when MCS Table 5.1.3.1-1 or MCS Table 5.1.3.1-3 is used and 28 when MCS Table 5.1.3.1-2 is used and 27 when MCS Table 5.1.3.1-4 is used, respectively. The higher layer parameter frequencyDensity in PTRS-DownlinkConfig provides the parameters N_{R B_{i}} i=0,1 with values in range 1-276. If the higher layer parameter PTRS-DownlinkConfig indicates that the time density thresholds ptrs -M C S_{i}=p t r s-M C S_{i+1} , then the time density L_{P T-R S} of the associated row where both these thresholds appear in Table 5.1.6.3-1 is disabled. If the higher layer parameter PTRS-DownlinkConfig indicates that the frequency density thresholds N_{R B i}=N_{R B i+1} , then the frequency density K_{P I R S} of the associated row where both these thresholds appear in Table 5.1.6.3-2 is disabled. If either or both of the parameters PT-RS time density ( L_{P T-R S} ) and PT-RS frequency density ( K_{P T-R S} ), shown in Table 5.1.6.3-1 and Table 5.1.6.3-2, indicates that 'PT-RS not present', the UE shall assume that PT-RS is not present.\n---\nIf the higher layer parameter PTRS-DownlinkConfig indicates that the time density thresholds ptrs -M C S_{i}=p t r s-M C S_{i+1} , then the time density L_{P T-R S} of the associated row where both these thresholds appear in Table 5.1.6.3-1 is disabled. If the higher layer parameter PTRS-DownlinkConfig indicates that the frequency density thresholds N_{R B i}=N_{R B i+1} , then the frequency density K_{P I R S} of the associated row where both these thresholds appear in Table 5.1.6.3-2 is disabled. If either or both of the parameters PT-RS time density ( L_{P T-R S} ) and PT-RS frequency density ( K_{P T-R S} ), shown in Table 5.1.6.3-1 and Table 5.1.6.3-2, indicates that 'PT-RS not present', the UE shall assume that PT-RS is not present. When the UE is receiving a PDSCH with allocation duration of 2 symbols as defined in Clause 7.4.1.1.2 of [4, TS 38.211] and if L_{P T-R S} is set to 2 or 4 , the UE shall assume PT-RS is not transmitted.\n---\nETSI TS 138214 V17.1.0 (2022-05) When a UE is receiving PDSCH for retransmission, if the UE is scheduled with an MCS index greater than V, where \\mathrm{V}=28 for MCS Table 5.1.3.1-1 and Table 5.1.3.1-3, and \\mathrm{V}=27 for MCS Table 5.1.3.1-2, and \\mathrm{V}=26 for MCS Table 5.1.3.1-4 respectively, the MCS for the PT-RS time-density determination is obtained from the DCI received for the same transport block in the initial transmission, which is smaller than or equal to V . The DL DM-RS port(s) associated with a PT-RS port are assumed to be quasi co-located with respect to 'typeA' and 'typeD'. If a UE is scheduled with one codeword, the PT-RS antenna port is associated with the lowest indexed DM-RS antenna port among the DM-RS antenna ports assigned for the PDSCH.\n---\nWhen a UE is not indicated with a DCI that DCI field 'Time domain resource assignment' indicating an entry which contains repetitionNumber in PDSCH-TimeDomainResourceAllocation, and if the UE is configured with the higher layer parameter maxNrofPorts equal to n 2 , the UE is not configured with sfnSchemePdsch and if the UE is indicated with two TCI states by the codepoints of the DCI field 'Transmission Configuration Indication' and DM-RS port(s) within two CDM groups in the DCI field 'Antenna Port(s)', the UE shall receive two PT-RS ports which are associated to the lowest indexed DM-RS port among the DM-RS ports corresponding to the first/second indicated TCI state, respectively. When a UE configured by the higher layer parameter repetitionScheme set to 'fdmSchemeA' or 'fdmSchemeB', and the UE is indicated with two TCI states in a codepoint of the DCI field 'Transmission Configuration Indication' and DMRS port(s) within one CDM group in the DCI field 'Antenna Port(s)', the UE shall receive a single PT-RS port which is associated with the lowest indexed DM-RS antenna port among the DM-RS antenna ports assigned for the PDSCH, a PT-RS frequency density is determined by the number of PRBs associated to each TCI state, and a PT-RS resource element mapping is associated to the allocated PRBs for each TCI state. 5.1.6.4 SRS reception procedure for CLI\n---\nFor L1-SINR measurement: - When one Resource Setting is configured, the Resource Setting (given by higher layer parameter resourcesForChannelMeasurement) is for channel and interference measurement on NZP CSI-RS for L1-SINR computation. UE may assume that same 1 port NZP CSI-RS resource(s) with density 3 REs/RB is used for both channel and interference measurements. - When two Resource Settings are configured, the first one Resource Setting (given by higher layer parameter resourcesForChannelMeasurement) is for channel measurement on SSB or NZP CSI-RS and the second one (given by either higher layer parameter csi-/M-ResourcesForInterference or higher layer parameter n z p-C S I-R S ResourcesForInterference) is for interference measurement performed on CSI-[M or on 1 port NZP CSI-RS with density 3 REs/RB, where each SSB or NZP CSI-RS resource for channel measurement is associated with one CSI-[M resource or one NZP CSI-RS resource for interference measurement by the ordering of the SSB or NZP CSI-RS resource for channel measurement and CSI-[M resource or NZP CSI-RS resource for interference measurement in the corresponding resource sets. The number of SSB(s) or CSI-RS resources for channel measurement equals to the number of CSI-[Mresources or the number of NZP CSI-RS resource for interference measurement. - UE may apply the SSB, or 'typeD' RS configured with qcl-Type set to 'typeD' to the NZP CSI-RS resource for channel measurement, as the reference RS for determining 'typeD' assumption for the corresponding CSI[M resource or the corresponding NZP CSI-RS resource for interference measurement configured for one CSI reporting.\n---\nThe reportFreqConfiguration contained in a CSI-ReportConfig indicates the frequency granularity of the CSI Report. A CSI Reporting Setting configuration defines a CSI reporting band as a subset of subbands of the bandwidth part, where the reportFreqConfiguration indicates: - the csi-ReportingBand as a contiguous or non-contiguous subset of subbands in the bandwidth part for which CSI shall be reported. - A UE is not expected to be configured with csi-ReportingBand which contains a subband where a CSI-RS resource linked to the CSI Report setting has the frequency density of each CSI-RS port per PRB in the subband less than the configured density of the CSI-RS resource. - If a CSI-[M resource is linked to the CSI Report Setting, a UE is not expected to be configured with csiReportingBand which contains a subband where not all PRBs in the subband have the CSI-[M REs present. - wideband CQI or subband CQI reporting, as configured by the higher layer parameter cqi-FormatIndicator. When wideband CQI reporting is configured, a wideband CQI is reported for each codeword for the entire CSI reporting band. When subband CQI reporting is configured, one CQI for each codeword is reported for each subband in the CSI reporting band.\n---\nETSI TS 138214 V17.1.0 (2022-05) - nrofPorts in resourceMapping defines the number of CSI-RS ports, where the allowable values are given in Clause 7.4.1.5 of [4, TS 38.211]. - density in resourceMapping defines CSI-RS frequency density of each CSI-RS port per PRB, and CSI-RS PRB offset in case of the density value of 1 / 2 , where the allowable values are given in Clause 7.4 - 1.5 of [4, TS 38.211]. For density 1/2, the odd/even PRB allocation indicated in density is with respect to the common resource block grid. - cdm-Type in resourceMapping defines CDM values and pattern, where the allowable values are given in Clause 7.4.1.5 of [4, TS 38.211]. - powerControlOffset: which is the assumed ratio of PDSCH EPRE to NZP CSI-RS EPRE when UE derives CSI feedback and takes values in the range of [-8,15] \\mathrm{dB} with 1 dB step size. For CQI calculation based on a pair of NZP CSI-RS resources, powerControlOffset of each NZP CSI-RS resource in the pair of NZP CSI-RS resources for channel measurement is the assumed ratio of EPRE when UE derives CSI feedback and takes values in the range of [-8,15] \\mathrm{dB} with 1 dB step size.\n---\nThe higher layer parameter PTRS-UplinkConfig provides the parameters ptrs-MCS i, i=1,2,3 and with values in 0-29 when MCS Table 5.1.3.1-1 or Table 5.1.3.1-3 is used and 0-28 when MCS Table 5.1.3.1-2 is used, respectively. ptrsMCS4 is not explicitly configured by higher layers but assumed 29 when MCS Table 5.1.3.1-1 or Table 5.1.3.1-3 is used and 28 when MCS Table 5.1.3.1-2 is used. The higher layer parameter PTRS-UplinkConfig provides the parameters N_{R B_{i}} i=0,1 with values in range 1-276. If the higher layer parameter PTRS-UplinkConfig indicates that the time density thresholds ptrs-MCS: ptrs-MCS S_{i+1} , then the time density L_{P T R S} of the associated row where both these thresholds appear in Table 6.2.3.1-1 is disabled. If the higher layer parameter frequencyDensity in PTRS-UplinkConfig indicates that the frequency density thresholds N_{R B, i}= N_{R B, i+1} , then the frequency density K_{P T R S} of the associated row where both these thresholds appear in Table 6.2.3.1-2 is disabled. If either or both of the parameters PT-RS time density ( L_{P T-R S} ) and PT-RS frequency density ( K_{P T-R S} ), shown in Table 6.2.3.1-1 and Table 6.2.3.1-2, indicates that are configured as 'PT-RS not present', the UE shall assume that PT-RS is not present.\n---\nIf the higher layer parameter PTRS-UplinkConfig indicates that the time density thresholds ptrs-MCS: ptrs-MCS S_{i+1} , then the time density L_{P T R S} of the associated row where both these thresholds appear in Table 6.2.3.1-1 is disabled. If the higher layer parameter frequencyDensity in PTRS-UplinkConfig indicates that the frequency density thresholds N_{R B, i}= N_{R B, i+1} , then the frequency density K_{P T R S} of the associated row where both these thresholds appear in Table 6.2.3.1-2 is disabled. If either or both of the parameters PT-RS time density ( L_{P T-R S} ) and PT-RS frequency density ( K_{P T-R S} ), shown in Table 6.2.3.1-1 and Table 6.2.3.1-2, indicates that are configured as 'PT-RS not present', the UE shall assume that PT-RS is not present. When a UE is scheduled to transmit PUSCH with allocation duration of 2 symbols or less, and if L_{P T-R S} is set to 2 or 4 , the UE shall not transmit PT-RS. When a UE is scheduled to transmit PUSCH with allocation duration of 4 symbols or less, and if L_{P T-R S} is set to 4 , the UE shall not transmit PT-RS.\n---\nWhen a UE is scheduled to transmit PUSCH with allocation duration of 2 symbols or less, and if L_{P T-R S} is set to 2 or 4 , the UE shall not transmit PT-RS. When a UE is scheduled to transmit PUSCH with allocation duration of 4 symbols or less, and if L_{P T-R S} is set to 4 , the UE shall not transmit PT-RS. When a UE is scheduled to transmit PUSCH for retransmission, if the UE is scheduled with I_{M C S}>V , where V=28 for MCS Table 5.1.3.1-1 and MCS Table 5.1.3.1-3 and V=27 for MCS Table 5.1.3.1-2, respectively, the MCS for PT-RS time-density determination is obtained from the DCI for the same transport block in the initial transmission, which is smaller than or equal to V . The maximum number of configured PT-RS ports is given by the higher layer parameter maxNrofPorts in PTRSUplinkConfig. The UE is not expected to be configured with a larger number of UL PT-RS ports than it has reported need for.\n---\n\\begin{tabular}{l} frequencyDomainAllocation Frequency domain allocation within a physical resource block in accordance with TS 38.211 [16], clause 7.4.1.5.3. The applicable row number in table 7.4.1.5.3-1 is determined by the frequencyDomainAllocation for rows 1, 2 and 4, and for other rows by matching the values in the column Ports, Density and CDMtype in table 7.4.1.5.3-1 with the values of nrofPorts, cdim-Type and density below and, when more than one row has the 3 values matching, by selecting the row where the column ( k bar, I bar) in table 7.4.1.5.3-1 has indexes for k ranging from 0 to 2^{*} \\mathrm{n}-1 where n is the number of bits set to 1 in frequencyDomainAllocation. \\end{tabular} \\begin{tabular}{l}",
    "generated_at": "2025-12-09T09:47:11.064908",
    "model": "gpt-4o",
    "full_api_response": {
      "result": "NO_RULE",
      "type": "ValueDependency",
      "dsl": "",
      "preconditions": [],
      "predicate": "",
      "advisory": false,
      "examples": {
        "valid": [],
        "invalid": []
      },
      "notes": "The evidence provided does not contain any explicit normative constraints or relations between the 'density' fields within the same IE. The evidence snippets do not mention both target fields or relate them directly.",
      "version_tags": [
        "r16",
        "r17"
      ]
    }
  }
}