<!-- Page 17 of ts_138322v160100p -->

3GPP TS 38.322 version 16.1.0 Release 16
16
ETSI TS 138322 V16.1.0 (2020-07)
5.2.3 AM data transfer
5.2.3.1 Transmit operations
5.2.3.1.1 General

The transmitting side of an AM RLC entity shall prioritize transmission of RLC control PDUs over AMD PDUs. The transmitting side of an AM RLC entity shall prioritize transmission of AMD PDUs containing previously transmitted RLC SDUs or RLC SDU segments over transmission of AMD PDUs containing not previously transmitted RLC SDUs or RLC SDU segments.

The transmitting side of an AM RLC entity shall maintain a transmitting window according to the state variable TX_Next_Ack as follows:
- a SN falls within the transmitting window if TX_Next_Ack \( <=\mathrm{SN}<\mathrm{TX} \) _Next_Ack +AM _Window_Size;
- a SN falls outside of the transmitting window otherwise.

The transmitting side of an AM RLC entity shall not submit to lower layer any AMD PDU whose SN falls outside of the transmitting window.

For each RLC SDU received from the upper layer, the AM RLC entity shall:
- associate a SN with the RLC SDU equal to TX_Next and construct an AMD PDU by setting the SN of the AMD PDU to TX_Next;
- increment TX_Next by one.

When submitting an AMD PDU that contains a segment of an RLC SDU, to lower layer, the transmitting side of an AM RLC entity shall:
- set the SN of the AMD PDU to the SN of the corresponding RLC SDU.

The transmitting side of an AM RLC entity can receive a positive acknowledgement (confirmation of successful reception by its peer AM RLC entity) for an RLC SDU by the following:
- STATUS PDU from its peer AM RLC entity.

When receiving a positive acknowledgement for an RLC SDU with \( \mathrm{SN}=\mathrm{x} \), the transmitting side of an AM RLC entity shall:
- send an indication to the upper layers of successful delivery of the RLC SDU;
- set TX_Next_Ack equal to the SN of the RLC SDU with the smallest SN, whose SN falls within the range TX_Next_Ack \( <= \) SN \( <= \) TX_Next and for which a positive acknowledgment has not been received yet.
5.2.3.2 Receive operations
5.2.3.2.1 General

The receiving side of an AM RLC entity shall maintain a receiving window according to the state variable RX_Next as follows:
- a SN falls within the receiving window if \( \mathrm{RX} \_\mathrm{Next}<=\mathrm{SN}<\mathrm{RX} \_\mathrm{Next}+\mathrm{AM} \_ \)Window_Size;
- a SN falls outside of the receiving window otherwise.

When receiving an AMD PDU from lower layer, the receiving side of an AM RLC entity shall:
- either discard the received AMD PDU or place it in the reception buffer (see sub clause 5.2.3.2.2);
- if the received AMD PDU was placed in the reception buffer:

ETSI