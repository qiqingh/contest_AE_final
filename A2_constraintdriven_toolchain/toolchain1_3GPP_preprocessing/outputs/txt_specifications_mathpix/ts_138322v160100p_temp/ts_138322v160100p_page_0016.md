<!-- Page 16 of ts_138322v160100p -->

3GPP TS 38.322 version 16.1.0 Release 16
15
ETSI TS 138322 V16.1.0 (2020-07)
5.2.2.2.3 Actions when an UMD PDU is placed in the reception buffer

When an UMD PDU with SN \( =x \) is placed in the reception buffer, the receiving UM RLC entity shall:
- if all byte segments with \( \mathrm{SN}=\mathrm{x} \) are received:
- reassemble the RLC SDU from all byte segments with \( \mathrm{SN}=\mathrm{x} \), remove RLC headers and deliver the reassembled RLC SDU to upper layer;
- if \( \mathrm{x}=\mathrm{RX} \) _Next_Reassembly:
- update RX_Next_Reassembly to the SN of the first SN > current RX_Next_Reassembly that has not been reassembled and delivered to upper layer.
- else if \( x \) falls outside of the reassembly window:
- update RX_Next_Highest to \( \mathrm{x}+1 \);
- discard any UMD PDUs with SN that falls outside of the reassembly window;
- if RX_Next_Reassembly falls outside of the reassembly window:
- set RX_Next_Reassembly to the SN of the first SN \( >=( \) RX_Next_Highest - UM_Window_Size) that has not been reassembled and delivered to upper layer.
- if \( t \)-Reassembly is running:
- if RX_Timer_Trigger <= RX_Next_Reassembly; or
- if RX_Timer_Trigger falls outside of the reassembly window and RX_Timer_Trigger is not equal to RX_Next_Highest; or
- if RX_Next_Highest \( = \) RX_Next_Reassembly +1 and there is no missing byte segment of the RLC SDU associated with \( \mathrm{SN}=\mathrm{RX} \) _Next_Reassembly before the last byte of all received segments of this RLC SDU:
- stop and reset \( t \)-Reassembly.
- if \( t \)-Reassembly is not running (includes the case when \( t \)-Reassembly is stopped due to actions above):
- if RX_Next_Highest \( >\mathrm{RX} \) _Next_Reassembly +1 ; or
- if RX_Next_Highest \( =\mathrm{RX} \) _Next_Reassembly +1 and there is at least one missing byte segment of the RLC SDU associated with SN = RX_Next_Reassembly before the last byte of all received segments of this RLC SDU:
- start \( t \)-Reassembly;
- set RX_Timer_Trigger to RX_Next_Highest.
5.2.2.2.4 Actions when t -Reassembly expires

When \( t \)-Reassembly expires, the receiving UM RLC entity shall:
- update RX_Next_Reassembly to the SN of the first SN \( >= \) RX_Timer_Trigger that has not been reassembled;
- discard all segments with \( \mathrm{SN}< \) updated RX_Next_Reassembly;
- if RX_Next_Highest \( > \) RX_Next_Reassembly + 1; or
- if RX_Next_Highest \( = \) RX_Next_Reassembly +1 and there is at least one missing byte segment of the RLC SDU associated with SN \( = \) RX_Next_Reassembly before the last byte of all received segments of this RLC SDU:
- start t-Reassembly;
- set RX_Timer_Trigger to RX_Next_Highest.

ETSI