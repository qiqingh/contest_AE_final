<!-- Page 18 of ts_138322v160100p -->

3GPP TS 38.322 version 16.1.0 Release 16
17
ETSI TS 138322 V16.1.0 (2020-07)
- update state variables, reassemble and deliver RLC SDUs to upper layer and start/stop \( t \)-Reassembly as needed (see sub clause 5.2.3.2.3).

When \( t \)-Reassembly expires, the receiving side of an AM RLC entity shall:
- update state variables and start \( t \)-Reassembly as needed (see sub clause 5.2.3.2.4).
5.2.3.2.2 Actions when an AMD PDU is received from lower layer

When an AMD PDU is received from lower layer, where the AMD PDU contains byte segment numbers \( y \) to \( z \) of an RLC SDU with \( \mathrm{SN}=\mathrm{x} \), the receiving side of an AM RLC entity shall:
- if \( x \) falls outside of the receiving window; or
- if byte segment numbers \( y \) to \( z \) of the RLC SDU with SN \( =x \) have been received before:
- discard the received AMD PDU.
- else:
- place the received AMD PDU in the reception buffer;
- if some byte segments of the RLC SDU contained in the AMD PDU have been received before:
- discard the duplicate byte segments.
5.2.3.2.3 Actions when an AMD PDU is placed in the reception buffer

When an AMD PDU with \( \mathrm{SN}=\mathrm{x} \) is placed in the reception buffer, the receiving side of an AM RLC entity shall:
- if \( \mathrm{x}>=\mathrm{RX} \) _Next_Highest
- update RX_Next_Highest to \( \mathrm{x}+1 \).
- if all bytes of the RLC SDU with SN \( =x \) are received:
- reassemble the RLC SDU from AMD PDU(s) with \( \mathrm{SN}=\mathrm{x} \), remove RLC headers when doing so and deliver the reassembled RLC SDU to upper layer;
- if \( \mathrm{x}=\mathrm{RX} \) _Highest_Status,
- update RX_Highest_Status to the SN of the first RLC SDU with SN> current RX_Highest_Status for which not all bytes have been received.
- if \( \mathrm{x}=\mathrm{RX} \_ \)Next:
- update RX_Next to the SN of the first RLC SDU with SN> current RX_Next for which not all bytes have been received.
- if \( t \)-Reassembly is running:
- if RX_Next_Status_Trigger \( = \) RX_Next; or
- if RX _Next_Status_Trigger \( =\mathrm{RX} \) _Next +1 and there is no missing byte segment of the SDU associated with \( \mathrm{SN}=\overline{\mathrm{R}} \mathrm{X} \_ \)Next before the last byte of all received segments of this SDU; or
- if RX_Next_Status_Trigger falls outside of the receiving window and RX_Next_Status_Trigger is not equal to RX_Next + AM_Window_Size:
- stop and reset \( t \)-Reassembly.
- if \( t \)-Reassembly is not running (includes the case \( t \)-Reassembly is stopped due to actions above):
- if RX_Next_Highest \( > \) RX_Next +1 ; or
- if RX_Next_Highest \( =\mathrm{RX} \_\mathrm{Next}+1 \) and there is at least one missing byte segment of the SDU associated with \( \mathrm{SN}=\mathrm{RX} \) _Next before the last byte of all received segments of this SDU:

ETSI