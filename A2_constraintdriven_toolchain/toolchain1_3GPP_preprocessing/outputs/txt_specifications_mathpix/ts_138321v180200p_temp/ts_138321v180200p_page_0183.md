<!-- Page 183 of ts_138321v180200p -->

3GPP TS 38.321 version 18.2.0 Release 18
182
ETSI TS 138321 V18.2.0 (2024-08)

\( 2> \) if running, stop the sl-logicalChannelSR-DelayTimer.
For Regular and Periodic SL-BSR, the MAC entity shall:
\( 1> \) if \( s \)-PrioritizationThres is configured and the value of the highest priority of the logical channels that belong to any LCG and contain SL data for any Destination is lower than sl-PrioritizationThres; and
\( 1> \) if \( u \)-PrioritizationThres is configured and the value of the highest priority of the logical channels that belong to any LCG and contain UL data is equal to or higher than \( u \)-PrioritizationThres according to clause 5.4.5:

2> prioritize the LCG(s) for the Destination(s).
\( 1> \) if the Buffer Status reporting procedure determines that at least one BSR has been triggered and not cancelled according to clause 5.4.5 and the UL grant cannot accommodate an SL-BSR MAC CE containing buffer status only for all prioritized LCGs having data available for transmission plus the subheader of the SL-BSR according to clause 5.4.3.1.3, in case the SL-BSR is considered as not prioritized:
\( 2> \) prioritize the SL-BSR for logical channel prioritization specified in clause 5.4.3.1;
\( 2> \) report Truncated SL-BSR containing buffer status for as many prioritized LCGs having data available for transmission as possible, taking the number of bits in the UL grant into consideration.

1> else if the number of bits in the UL grant is expected to be equal to or larger than the size of an SL-BSR containing buffer status for all LCGs having data available for transmission plus the subheader of the SL-BSR according to clause 5.4.3.1.3:
\( 2> \) report SL-BSR containing buffer status for all LCGs having data available for transmission.
1> else:
\( 2> \) report Truncated SL-BSR containing buffer status for as many LCGs having data available for transmission as possible, taking the number of bits in the UL grant into consideration.

For Padding SL-BSR:
\( 1> \) if the number of padding bits remaining after a Padding BSR has been triggered is equal to or larger than the size of an SL-BSR containing buffer status for all LCGs having data available for transmission plus its subheader:
\( 2> \) report SL-BSR containing buffer status for all LCGs having data available for transmission;
1> else:
\( 2> \) report Truncated SL-BSR containing buffer status for as many LCGs having data available for transmission as possible, taking the number of bits in the UL grant into consideration.

For SL-BSR triggered by sl-retxBSR-Timer expiry, the MAC entity considers that the logical channel that triggered the SL-BSR is the highest priority logical channel that has data available for transmission at the time the SL-BSR is triggered.

The MAC entity shall:
1> if the sidelink Buffer Status reporting procedure determines that at least one SL-BSR has been triggered and not cancelled:
\( 2> \) if UL-SCH resources are available for a new transmission and the UL-SCH resources can accommodate the SL-BSR MAC CE plus its subheader as a result of logical channel prioritization according to clause 5.4.3.1:
\( 3> \) instruct the Multiplexing and Assembly procedure in clause 5.4 .3 to generate the SL-BSR MAC CE(s);
\( 3> \) start or restart sl-periodicBSR-Timer except when all the generated SL-BSRs are Truncated SL-BSRs;
3> start or restart sl-retxBSR-Timer.
\( 2> \) if a Regular SL-BSR has been triggered and sl-logicalChannelSR-DelayTimer is not running:
\( 3> \) if there is no UL-SCH resource available for a new transmission; or

ETSI