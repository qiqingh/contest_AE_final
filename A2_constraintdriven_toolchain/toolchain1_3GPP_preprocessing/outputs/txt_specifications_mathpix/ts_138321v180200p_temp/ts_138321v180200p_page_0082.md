<!-- Page 82 of ts_138321v180200p -->

3GPP TS 38.321 version 18.2.0 Release 18
81
ETSI TS 138321 V18.2.0 (2024-08)

Each logical channel may be allocated to an LCG using the logicalChannelGroup. The maximum number of LCGs is eight except for [AB-MTs configured with logicalChannelGrouplAB-Ext, for which the maximum number of LCGs is 256.

The MAC entity determines the amount of UL data available for a logical channel according to the data volume calculation procedure in TSs 38.322 [3] and 38.323 [4].

A BSR shall be triggered if any of the following events occur for activated cell group:
- UL data, for a logical channel which belongs to an LCG, becomes available to the MAC entity; and either
- this UL data belongs to a logical channel with higher priority than the priority of any logical channel containing available UL data which belong to any LCG; or
- none of the logical channels which belong to an LCG contains any available UL data.
in which case the BSR is referred below to as 'Regular BSR';
- UL resources are allocated and number of padding bits is equal to or larger than the size of the Buffer Status Report MAC CE plus its subheader, in which case the BSR is referred below to as 'Padding BSR';
- retxBSR-Timer expires, and at least one of the logical channels which belong to an LCG contains UL data, in which case the BSR is referred below to as 'Regular BSR';
- periodicBSR-Timer expires, in which case the BSR is referred below to as 'Periodic BSR'.

NOTE 1: When Regular BSR triggering events occur for multiple logical channels simultaneously, each logical channel triggers one separate Regular BSR.

For Regular BSR, the MAC entity shall:
1> if the BSR is triggered for a logical channel for which logicalChannelSR-DelayTimerApplied with value true is configured by upper layers and SDT procedure is not ongoing according to clause 5.27:
\( 2> \) start or restart the logicalChannelSR-DelayTimer.
\( 1> \) else if BSR is triggered for a logical channel for which logicalChannelSR-DelayTimerApplied with value true is configured by upper layers and SDT procedure is ongoing according to clause 5.27:
\( 2> \) start or restart logicalChannelSR-DelayTimer with the value as configured by the sdt-LogicalChannelSRDelayTimer, if configured.

1> else:
\( 2> \) if running, stop the logicalChannelSR-DelayTimer.
For Regular and Periodic BSR, the MAC entity for which logicalChannelGrouplAB-Ext is not configured by upper layers shall:

1> if for at least one LCG configured with additionalBS-TableAllowed, the amount of UL data available for transmission when the MAC PDU containing the BSR is to be built is within the buffer sizes specified in Table 6.1.3.1-3:
\( 2> \) report Refined Long BSR for all LCGs which have data available for transmission;
1> else:
\( 2> \) if more than one LCG has data available for transmission when the MAC PDU containing the BSR is to be built:

3> report Long BSR for all LCGs which have data available for transmission.
\( 2> \) else if one LCG has data available and is configured with additionalBS-TableAllowed and the amount of UL data available for transmission when the MAC PDU containing the BSR is to be built is greater than the largest buffer size specified in Table 6.1.3.1-3:
\( 3> \) report Long BSR.

ETSI