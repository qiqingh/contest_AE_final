<!-- Page 75 of ts_138321v180200p -->

3GPP TS 38.321 version 18.2.0 Release 18
74
ETSI TS 138321 V18.2.0 (2024-08)
- the UE should not segment an RLC SDU (or partially transmitted SDU or retransmitted RLC PDU) if the whole SDU (or partially transmitted SDU or retransmitted RLC PDU) fits into the remaining resources of the associated MAC entity;
- if the UE segments an RLC SDU from the logical channel, it shall maximize the size of the segment to fill the grant of the associated MAC entity as much as possible;
- the UE should maximise the transmission of data;
- if the MAC entity is given a UL grant size that is equal to or larger than 8 bytes (when eLCID is not used) or 10 bytes (when eLCID is used) while having data available and allowed (according to clause 5.4.3.1) for transmission, the MAC entity shall not transmit only padding BSR and/or padding.

The MAC entity shall:
\( 1> \) if the MAC entity is configured with enhancedSkipUplinkTxDynamic with value true and the grant indicated to the HARQ entity was addressed to a C-RNTI, or if the MAC entity is configured with enhancedSkipUplinkTxConfigured with value true and the grant indicated to the HARQ entity is a configured uplink grant:
\( 2> \) if there is no UCI to be multiplexed on this PUSCH transmission as specified in TS 38.213 [6]; and
\( 2> \) if there is no aperiodic CSI requested for this PUSCH transmission as specified in TS 38.212 [9]; and
\( 2> \) if the MAC PDU includes zero MAC SDUs; and
\( 2> \) if the MAC PDU includes only the periodic BSR and there is no data available for any LCG, or the MAC PDU includes only the padding BSR:
\( 3> \) not generate a MAC PDU for the HARQ entity.
1> else if the MAC entity is configured with skipUplinkTxDynamic with value true and the grant indicated to the HARQ entity was addressed to a C-RNTI, or the grant indicated to the HARQ entity is a configured uplink grant:
\( 2> \) if there is no aperiodic CSI requested for this PUSCH transmission as specified in TS 38.212 [9]; and
\( 2> \) if the MAC PDU includes zero MAC SDUs; and
\( 2> \) if the MAC PDU includes only the periodic BSR and there is no data available for any LCG, or the MAC PDU includes only the padding BSR:
\( 3> \) not generate a MAC PDU for the HARQ entity.
Logical channels shall be prioritised in accordance with the following order (highest priority listed first):
- MAC CE for C-RNTI, or data from UL-CCCH;
- MAC CE for (Enhanced) BFR, or MAC CE for Configured Grant Confirmation, or MAC CE for Multiple Entry Configured Grant Confirmation;
- MAC CE for Sidelink Configured Grant Confirmation;
- MAC CE for LBT failure;
- MAC CE for SL LBT failure according to clause 5.31.2;
- MAC CE for Timing Advance Report;
- MAC CE for Delay Status Report;
- MAC CE for SL-BSR prioritized according to clause 5.22.1.6;
- MAC CE for (Extended) BSR, with exception of BSR included for padding;
- MAC CE for (Enhanced) Single Entry PHR, or MAC CE for (Enhanced) Multiple Entry PHR or MAC CE for Single Entry PHR with assumed PUSCH, or MAC CE for Multiple Entry PHR with assumed PUSCH, or MAC

ETSI