<!-- Page 115 of ts_138213v170100p -->

3GPP TS 38.213 version 17.1.0 Release 17
114
ETSI TS 138213 V17.1.0 (2022-05)

\( j<C(Q)-1 \) and resource \( Q(j-o) \) overlaps with resource \( Q(j+1) \) and the resources in set \( Q \) are of same priority index, or
\( j<C(Q)-1 \) and resource \( Q(j-o) \) overlaps with resource \( Q(j+1), o=0 \), the resources in set \( Q \) are of different priority indexes, and the UE is provided UCI-MuxWithDifferentPriority
then
\( o=o+1 ; \)
\( j=j+1 ; \)
else
if \( o>0 \)
determine a single resource for multiplexing UCl associated with resources \( \{Q(j-o), Q(j-o+ 1), \ldots, Q(j)\} \) as described in clauses \( 9,9.2 .5 .0,9.2 .5 .1,9.2 .5 .2 \), and 9.2.5.3
set the index of the single resource to \( j \)
\[
Q=Q \backslash\{Q(j-o), Q(j-o+1), \ldots, Q(j-1)\}
\]
\( j=0 \% \) start from the beginning after reordering unmerged resources at next step
\( o=0 \);
order \( (Q) \% \) function that re-orders resources in current set \( Q \)
Set \( C(Q) \) to the cardinality of \( Q \)
else
\( j=j+1 ; \)
end if
end if
end while
The function order \( (Q) \) performs the following pseudo-code
\( \{ \)
\( k=0 ; \)
while \( k<\mathscr{C}(Q)-1 \% \) the next two while loops are to re-order the unmerged resources
\( l=0 ; \)
while \( k<\mathscr{C}(Q)-1-k \)
if \( Q(l, 0)>Q(l+1,0) \) OR \( (Q(l, 0)=Q(l+1,0) \& L(Q(l))<L(Q(l+1))) \)
temp \( =Q(l) ; \)
\( Q(l)=Q(l+1) ; \)
\( Q(l+1)= \) temp;
end if
\( l=l+1 ; \)
end while
\( k=k+1 \);

ETSI