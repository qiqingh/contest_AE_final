<!-- Page 64 of ts_138211v180200p -->

3GPP TS 38.211 version 18.2.0 Release 18
63
ETSI TS 138211 V18.2.0 (2024-05)

where the pseudo-random sequence \( c(i) \) is defined by clause 5.2 .1 . The pseudo-random sequence generator shall be initialized with \( c_{\text {init }}=n_{1 \mathrm{D}} \), where \( n_{1 \mathrm{D}} \) is given by the higher-layer parameter hoppingld if configured, otherwise \( n_{1 \mathrm{D}}= N_{\text {ID }}^{\text {cell }} \).
6.3.2.3 PUCCH format 0
6.3.2.3.1 Sequence generation

The sequence \( x(n) \) shall be generated according to
\[
\begin{aligned}
x\left(l M_{\mathrm{RB}}^{\mathrm{PUCCH}, 0} N_{\mathrm{sC}}^{\mathrm{RB}}+n\right) & =r_{u, v}^{(\alpha, \delta)}(n) \\
n & =0,1, \ldots, M_{\mathrm{RB}}^{\mathrm{PUCCH}, 0} N_{\mathrm{sC}}^{\mathrm{RB}}-1 \\
l & =\left\{\begin{array}{cc}
0 & \text { for single-symbol PUCCH transmission } \\
0,1 & \text { for double-symbol PUCCH transmission }
\end{array}\right.
\end{aligned}
\]
where \( r_{u, v}^{(\alpha, \delta)}(n) \) is given by clause 6.3.2.2 with \( m_{\mathrm{cs}} \) depending on the information to be transmitted according to clause 9.2 of [5, TS 38.213]. The quantity \( M_{\text {RB }}^{\text {PUCCH } 0} \) is given by clause 9.2 .1 of [5, TS 38.213].
6.3.2.3.2 Mapping to physical resources

The sequence \( x(n) \) shall be multiplied with the amplitude scaling factor \( \beta_{\text {PUCCH, } 0} \) in order to conform to the transmit power specified in [5, TS 38.213] and mapped in sequence starting with \( x(0) \) to resource elements \( (k, l)_{p, \mu} \) assigned for transmission according to clause 9.2.1 of [5, TS 38.213] in increasing order of first the index \( k \) over the assigned physical resources spanning \( M_{\mathrm{RB}}^{\mathrm{PUCC} H_{1} 0} \) resource blocks, and then the index \( l \) on antenna port \( p=2000 \).

For interlaced transmission, the mapping operation shall be repeated for each resource block in the interlace and in the active bandwidth part over the assigned physical resource blocks according to clause 9.2 .1 of [5, TS 38.213], with the resource-block dependent sequence generated according to clause 6.3.2.2.
6.3.2.4 PUCCH format 1
6.3.2.4.1 Sequence modulation

The block of bits \( b(0), \ldots, b\left(M_{\text {bit }}-1\right) \) shall be modulated as described in clause 5.1 using BPSK if \( M_{\text {bit }}=1 \) and QPSK if \( M_{\text {bit }}=2 \), resulting in a complex-valued symbol \( d(0) \).
The complex-valued symbol \( d(0) \) shall be multiplied with a sequence \( r_{u, v}^{(\alpha, \delta)}(n) \) according to
\[
\begin{aligned}
y(n) & =d(0) r_{u, v}^{(\alpha, \delta)}(n) \\
n & =0,1, \ldots, M_{\mathrm{RB}}^{\mathrm{PUCCH}, 1} N_{\mathrm{sc}}^{\mathrm{RB}}-1
\end{aligned}
\]
where \( r_{u, v}^{(\alpha, \delta)}(n) \) is given by clause 6.3.2.2. The quantity \( M_{\text {RB }}^{\text {PUCCH } 1} \) is given by clause 9.2.1 of [5, TS 38.213].
The block of complex-valued symbols \( y(0), \ldots, y\left(M_{\mathrm{RB}}^{\mathrm{PUCCH} 1} N_{\mathrm{sc}}^{\mathrm{RB}}-1\right) \) shall be block-wise spread with the orthogonal sequence \( w_{i}(m) \) according to
\[
\begin{aligned}
z\left(m^{\prime} M_{\mathrm{RB}}^{\mathrm{PUCCH}_{1} 1} N_{\mathrm{SC}}^{\mathrm{RB}} N_{\mathrm{SF}, 0}^{\mathrm{PUCCH}_{1} 1}+m M_{\mathrm{RB}}^{\mathrm{PUCCH}_{1} 1} N_{\mathrm{SC}}^{\mathrm{RB}}+n\right) & =w_{i}(m) y(n) \\
n & =0,1, \ldots, M_{\mathrm{RB}}^{\mathrm{PUCCH}, 1} N_{\mathrm{SC}}^{\mathrm{RB}}-1 \\
m & =0,1, \ldots, N_{\mathrm{SF}, m^{\prime}}^{\mathrm{PUCC}, 1}-1 \\
m^{\prime} & =\left\{\begin{array}{cl}
0 & \text { no intra-slot frequency hopping } \\
0,1 & \text { intra-slot frequency hopping }
\end{array}\right.
\end{aligned}
\]
where \( N_{\mathrm{SF}, m \prime}^{\mathrm{PUCCH}, 1} \) is given by Table 6.3.2.4.1-1. Intra-slot frequency hopping shall be assumed when the higher-layer parameter intraSlotFrequencyHopping is provided, regardless of whether the frequency-hop distance is zero or not, and interlaced mapping is not enabled, otherwise no intra-slot frequency hopping shall be assumed.

ETSI