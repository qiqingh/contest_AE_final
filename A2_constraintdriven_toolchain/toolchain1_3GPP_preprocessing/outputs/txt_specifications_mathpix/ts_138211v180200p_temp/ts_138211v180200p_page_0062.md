<!-- Page 62 of ts_138211v180200p -->

3GPP TS 38.211 version 18.2.0 Release 18
61
ETSI TS 138211 V18.2.0 (2024-05)

numbered virtual resource block assigned for transmission, and then the index \( l \), with the starting position given by [ 6 , TS 38.214].
6.3.1.7 Mapping from virtual to physical resource blocks

Virtual resource blocks shall be mapped to physical resource blocks according to non-interleaved mapping.
For non-interleaved VRB-to-PRB mapping for uplink resource allocation types 0 and 1 [6, TS 38.214], virtual resource block \( n \) is mapped to physical resource block \( n \) except for PUSCH scheduled by RAR UL grant or PUSCH scheduled by DCI format \( 0 \_0 \) with CRC scrambled by TC-RNTI in active uplink band width part \( i \) starting at \( N_{\text {BWP, } i} \), including all resource blocks of the initial uplink bandwidth part starting at \( N_{\mathrm{BWP}, 0}^{\mathrm{start}} \), and having the same subcarrier spacing and cyclic prefix as the initial uplink bandwidth part, in which case virtual resource block \( n \) is mapped to physical resource block \( n+N_{\mathrm{BWP}, 0}^{\mathrm{start}}-N_{\mathrm{BWP}, i}^{\mathrm{start}} \) -

For non-interleaved VRB-to-PRB mapping for uplink resource allocation type 2 [6, TS 38.214], virtual resource block \( n \) is mapped to physical resource block \( n \).
6.3.2 Physical uplink control channel
6.3.2.1 General

The physical uplink control channel supports multiple formats as shown in Table 6.3.2.1-1. In case intra-slot frequency hopping is configured for PUCCH formats 1,3, or 4 according to clause 9.2.1 of [5, TS38.213], the number of symbols in the first hop is given by \( \left\lfloor N_{\text {symb }}^{\mathrm{PUCCH}} / 2\right\rfloor \) where \( N_{\text {symb }}^{\mathrm{PUCCH}} \) is the length of the PUCCH transmission in OFDM symbols.

\begin{table}
\captionsetup{labelformat=empty}
\caption{Table 6.3.2.1-1: PUCCH formats.}
\begin{tabular}{|l|l|l|}
\hline PUCCH format & Length in OFDM symbols \( N_{\text {symb }}^{\mathrm{PUCCH}} \) & Number of bits \\
\hline 0 & 1-2 & \( \leq 2 \) \\
\hline 1 & 4-14 & \( \leq 2 \) \\
\hline 2 & 1-2 & >2 \\
\hline 3 & 4-14 & >2 \\
\hline 4 & 4-14 & >2 \\
\hline
\end{tabular}
\end{table}
6.3.2.2 Sequence and cyclic shift hopping

PUCCH formats \( 0,1,3 \), and 4 use sequences \( r_{u, v}^{(\alpha, \delta)}(n) \) given by clause 5.2 .2 with \( \delta=0 \) where the sequence group \( u \) and the sequence number \( v \) depend on the sequence hopping in clause 6.3.2.2.1 and the cyclic shift \( \alpha \) depends on the cyclic shift hopping in clause 6.3.2.2.2.
6.3.2.2.1 Group and sequence hopping

The sequence group \( u=\left(f_{\mathrm{gh}}+f_{\mathrm{ss}}\right) \bmod 30 \) and the sequence number \( v \) within the group depends on the higher-layer parameter pucch-GroupHopping:
- if pucch-GroupHopping equals 'neither'
\[
\begin{aligned}
f_{\mathrm{gh}} & =0 \\
f_{\mathrm{ss}} & =n_{1 \mathrm{D}} \bmod 30 \\
v & =0
\end{aligned}
\]
where \( n_{1 \mathrm{D}} \) is given by the higher-layer parameter hoppingld if configured, otherwise \( n_{1 \mathrm{D}}=N_{1 \mathrm{D}} \) cell .
- if pucch-GroupHopping equals 'enable'

ETSI