<!-- Page 1161 of ts_138331v170000p -->

3GPP TS 38.331 version 17.0.0 Release 17
1160
ETSI TS 138331 V17.0.0 (2022-05)
```
-- /example/ ASN1START -- Later release
RRCMessage ::=
    rrc-TransactionIdentifier
    criticalExtensions
        cl
            rrcMessage-r8 RRCMessage-r8-IEs,
            rrcMessage-rl0 RRCMessage-rl0-IEs,
            rrcMessage-rll 新 能CMessage-rll-IEs,
            rrcMessage-rl4 RRCMessage-rl4-IEs
        },
        later CHOICE {
            c2 CHOICE\
                rrcMessage-rl6 RRCMessage-rl6-IEs,
                spare7 NULL, spare6 NULL, spare5 NULL, spare4 NULL,
                spare3 NULL, spare2 NULL, sparel NULL
            },
            criticalExtensionsFuture SEQUENCE {}
        }
    }
}
-- ASNISTOP
```


It is important to note that critical extensions may also be used at the level of individual fields i.e a field may be replaced by a critically extended version. When sending the extended version, the original version may also be included (e.g. original field is mandatory, E-UTRAN is unaware if UE supports the extended version). In such cases, a UE supporting both versions may be required to ignore the original field. The following example illustrates the use of the critical extension mechanism by showing the ASN. 1 of the original and of a later release.
```
-- /example/ ASN1START -- Original release
RRCMessage ::= SEQUENCE \
    rrc-TransactionIdentifier
    crit{ RRC-TransactionIdentifier,
        cl CHOICE {
            rrcMessage-r8 RRCMessage-r8-IEs,
            spare3 NULL, spare2 NULL, sparel NULL
        /,
        criticalExtensionsFuture SEQUENCE {}
    }
}
RRCMessage-rN-IEs ::= SEQUENCE \
    fieldl-rN ENUMERATED \
                valuel, value2, value3, value4} OPTIONAL, -- Need N
    field2-rN
    nonCriticalExtension
}
RRCConnectionReconfiguration-vMxy-IEs ::= SEQUENCE {
    field2-rM InformationElement2-rM OPTIONAL, -- Cond NoField2rN
    nonCriticalExtension SEQUENCE {} OPTIONAL
```


ETSI