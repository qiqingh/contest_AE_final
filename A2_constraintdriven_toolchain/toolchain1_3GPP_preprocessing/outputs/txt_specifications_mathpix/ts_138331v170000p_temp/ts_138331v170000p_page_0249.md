<!-- Page 249 of ts_138331v170000p -->

3GPP TS 38.331 version 17.0.0 Release 17
248
ETSI TS 138331 V17.0.0 (2022-05)
5.7.7.3 Actions related to transmission of ULDedicatedMessageSegment message

The UE shall segment the encoded RRC PDU based on the maximum supported size of a PDCP SDU specified in TS 38.323 [5]. UE shall minimize the number of segments and set the contents of the ULDedicatedMessageSegment messages as follows:

1> F or each new UL DCCH message, set the segmentNumber to 0 for the first message segment and increment the segmentNumber for each subsequent RRC message segment;
\( 1> \) set rrc-MessageSegmentContainer to include the segment of the UL DCCH message corresponding to the segmentNumber;

1> if the segment included in the rrc-MessageSegmentContainer is the last segment of the UL DCCH message:
\( 2> \) set the rrc-MessageSegmentType to lastSegment;
1> else:
2> set the rrc-MessageSegmentType to notLastSegment;
1> submit all the ULDedicatedMessageSegment messages generated for the segmented RRC message to lower layers for transmission in ascending order based on the segmentNumber, upon which the procedure ends.
5.7.8 Idle/inactive Measurements
5.7.8.1 General

This procedure specifies the measurements to be performed and stored by a UE in RRC_IDLE and RRC_INACTIVE when it has an idle/inactive measurement configuration.
5.7.8.1a Measurement configuration

The purpose of this procedure is to update the idle/inactive measurement configuration.
The UE initiates this procedure while T331 is running and T319a is not running and one of the following conditions is met:

1> upon selecting a cell when entering RRC_IDLE or RRC-INACTIVE from RRC_CONNECTED or RRC_INACTIVE; or
\( 1> \) upon update of system information (SIB4, or SIB11), e.g. due to intra-RAT cell (re)selection;
While in RRC_IDLE or RRC_INACTIVE, and T331 is running, the UE shall:
1> if VarMeasIdleConfig includes neither a measIdleCarrierListEUTRA nor a measIdleCarrierListNR received from the RRCRelease message:
\( 2> \) if the UE supports idlelnactiveEUTRA-MeasReport:
\( 3> \) if the SIB11 includes the measIdleConfigSIB and contains measIdleCarrierListEUTRA:
4> store or replace the measIdleCarrierListEUTRA of measIdleConfigSIB of SIB11 within VarMeasIdleConfig;
\( 3> \) else:
4> remove the measIdleCarrierListEUTRA in VarMeasIdleConfig, if stored;
2> if the UE supports idlelnactiveNR-MeasReport:
3> if SIB11 includes the measIdleConfigSIB and contains measIdleCarrierListNR:
4> store or replace the measIdleCarrierListNR of measIdleConfigSIB of SIBII within VarMeasIdleConfig;

ETSI