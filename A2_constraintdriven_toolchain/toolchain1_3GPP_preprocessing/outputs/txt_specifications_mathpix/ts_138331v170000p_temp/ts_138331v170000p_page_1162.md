<!-- Page 1162 of ts_138331v170000p -->

3GPP TS 38.331 version 17.0.0 Release 17
1161
ETSI TS 138331 V17.0.0 (2022-05)
```
}
-- ASNISTOP
```


\begin{tabular}{|l|l|}
\hline Conditional presence & Explanation \\
\hline NoField2rN & The field is optionally present, need N , if field2-r N is absent. Otherwise the field is absent \\
\hline
\end{tabular}

Finally, it is noted that a critical extension may be introduced in the same release as the one in which the original field was introduced e.g. to correct an essential ASN. 1 error. In such cases a UE capability may be introduced, to assist the network in deciding whether or not to use the critical extension.

In the case of list fields (SEQUENCE OF types in ASN-1) using the ToAddMod/ToRelease construction, the use of critical extensions to increase the size of a list should be avoided; that is, replacing the original list field by a new field also used to signal entries previously covered by the original field (i.e. extensions done according to the following example) should be avoided:
```
-- /example/ ASN1START -- Discouraged example
ContainingStructure ::= SEQUENCE \
```

```
    [ [
```

```
    ]]
}-- ASN1STOP
```


Instead, a non-critical list extension mechanism should typically be used, such that the extension field only adds the new entries of the list. This approach is further described in clause A.4.3.6.

If the critical extension mechanism for a list is used, it should be clarified in the field description that the two versions of the list are not configured together, and that the network should release the contents of the original version when configuring the replacement version.
A.4.3 Non-critical extension of messages
A.4.3.1 General principles

The mechanisms to extend a message in a non-critical manner are defined in A_3.3. W.r.t. the use of extension markers, the following additional guidelines apply:
- When further non-critical extensions are added to a message that has been critically extended, the inclusion of these non-critical extensions in earlier critical branches of the message should be avoided when possible.
- The extension marker ("...") is the primary non-critical extension mechanism that is used but empty sequences may be used if length determinant is not required. Examples of cases where a length determinant is not required:
- at the end of a message;

ETSI