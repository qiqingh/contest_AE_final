<!-- Page 281 of ts_138331v170000p -->

3GPP TS 38.331 version 17.0.0 Release 17
280
ETSI TS 138331 V17.0.0 (2022-05)

\( 2> \) if the UE has selected GNSS as synchronization reference in accordance with 5.8.6.2:
\( 3> \) select SLSSID 0;
\( 3> \) use \( s \)-SSB-TimeAllocationl included in the entry of configured \( s \)-SyncConfigList corresponding to the concerned frequency, that includes txParameters and gnss-Sync;
\( 3> \) select the slot(s) indicated by sl-SSB-TimeAllocation l;
\( 2> \) if the UE has selected a cell as synchronization reference in accordance with 5.8.6.2:
3> select the SLSSID included in the entry of configured \( s \) /-SyncConfigList corresponding to the concerned frequency, that includes txParameters and does not include gnss-Sync;
\( 3> \) select the slot(s) indicated by sl-SSB-TimeAllocation I;
1> else if triggered by NR sidelink communication and the UE has GNSS as the synchronization reference:
\( 2> \) select SLSSID 0;
\( 2> \) if \( s \)-SSB-TimeAllocation 3 is configured for the frequency used in SidelinkPreconfigNR:
\( 3> \) select the slot(s) indicated by sl-SSB-TimeAllocation3;
\( 2> \) else:
\( 3> \) select the slot(s) indicated by sl-SSB-TimeAllocation l;
1> else:
\( 2> \) select the synchronisation reference UE (i.e. SyncRef UE) as defined in 5.8.6;
\( 2> \) if the UE has a selected SyncRef UE and inCoverage in the MasterInformationBlockSidelink message received from this UE is set to true; or
\( 2> \) if the UE has a selected SyncRef UE and inCoverage in the MasterInformationBlockSidelink message received from this UE is set to false while the SLSS from this UE is part of the set defined for out of coverage, see TS 38.211 [16]:

3> select the same SLSSID as the SLSSID of the selected SyncRef UE;
3> select the slot in which to transmit the SLSS according to the sl-SSB-TimeAllocation lor sl-SSBTimeAllocation 2 included in the preconfigured sidelink parameters corresponding to the concerned frequency, such that the timing is different from the SLSS of the selected SyncRef UE;
\( 2> \) else if the UE has a selected SyncRef UE and the SLSS from this UE was transmitted on the slot(s) indicated sl-SSB-TimeAllocation3, which is configured for the frequency used in SidelinkPreconfigNR:

3> select SLSSID 337;
3> select the slot(s) indicated by sl-SSB-TimeAllocation2;
\( 2> \) else if the UE has a selected SyncRef UE:
3> select the SLSSID from the set defined for out of coverage having an index that is 336 more than the index of the SLSSID of the selected SyncRef UE, see TS 38.211 [16];

3> select the slot in which to transmit the SLSS according to sl-SSB-TimeAllocation lor sl-SSBTimeAllocation 2 included in the preconfigured sidelink parameters corresponding to the concerned frequency, such that the timing is different from the SLSS of the selected SyncRef UE;

2> else (i.e. no SyncRef UE selected):
3> if the UE has not randomly selected an SLSSID:
\( 4> \) randomly select, using a uniform distribution, an SLSSID from the set of sequences defined for out of coverage except SLSSID 336 and 337, see TS 38.211 [16];

ETSI