<!-- Page 136 of ts_138331v170000p -->

3GPP TS 38.331 version 17.0.0 Release 17
135
ETSI TS 138331 V17.0.0 (2022-05)

\( 2> \) if the random access procedure was initiated for beam failure recovery:
\( 3> \) set the rlf-Cause as beamFailureRecoveryFailure;
\( 2> \) else:
3> set the rif-Cause as randomAccessProblem;
1> else if the UE declares radio link failure due to the reaching of maximum number of retransmissions from the MCG RLC:
\( 2> \) set the nf-Cause as ric-MaxNumRetx;
1> else if the UE declares radio link failure due to consistent uplink LBT failures:
\( 2> \) set the rif-Cause as IbtFailure;
\( 1> \) else if the IAB-MT declares radio link failure due to the reception of a BH RLF indication on BAP entity:
\( 2> \) set the rlf-Cause as bh-rifRecoveryFailure.
1> else if the UE declares radio link failure due to T312 expiry:
\( 2> \) set the rlf-Cause as t312-Expiry;
5.3.10.5 RLF report content determination

The UE shall determine the content in the VarRLF-Report as follows:
\( 1> \) clear the information included in VarRLF-Report, if any;
\( 1> \) set the pimn-IdentityList to include the list of EPLMNs stored by the UE (i.e. includes the RPLMN);
1> set the measResultLastServCell to include the cell level RSRP, RSRQ and the available SINR, of the source PCell (in case HO failure) or PCell (in case RLF) based on the available SSB and CSI-RS measurements collected up to the moment the UE detected failure;
\( 1> \) if the SS/PBCH block-based measurement quantities are available:
\( 2> \) set the rsIndexResults in measResultLastServCell to include all the available measurement quantities of the source PCell (in case HO failure) or PCell (in case RLF), ordered such that the highest SS/PBCH block RSRP is listed first if SS/PBCH block RSRP measurement results are available, otherwise the highest SS/PBCH block RSRQ is listed first if SS/PBCH block RSRQ measurement results are available, otherwise the highest SS/PBCH block SINR is listed first, based on the available SS/PBCH block based measurements collected up to the moment the UE detected failure;

1> if the CSI-RS based measurement quantities are available:
\( 2> \) set the rsIndexResults in measResultLastServCell to include all the available measurement quantities of the source PCell (in case HO failure) or PCell (in case RLF), ordered such that the highest CSI-RS RSRP is listed first if CSI-RS RSRP measurement results are available, otherwise the highest CSI-RS RSRQ is listed first if CSI-RS RSRQ measurement results are available, otherwise the highest CSI-RS SINR is listed first, based on the available CSI-RS based measurements collected up to the moment the UE detected failure;

1> set the ssbRLMConfigBitmap and/or csi-rsRLMConfigBitmap in measResultLastServCell to include the radio link monitoring configuration of the source PCell(in case HO failure) or PCell (in case RLF), if available;

1> for each of the configured measObjectNR in which measurements are available:
\( 2> \) if the SS/PBCH block-based measurement quantities are available:
3> set the measResultListNR in measResultNeighCells to include all the available measurement quantities of the best measured cells, other than the source PCell (in case HO failure) or PCell (in case RLF), ordered such that the cell with highest SS/PBCH block RSRP is listed first if SS/PBCH block RSRP measurement results are available, otherwise the cell with highest SS/PBCH block RSRQ is listed first if SS/PBCH block RSRQ measurement results are available, otherwise the cell with highest SS/PBCH block SINR is

ETSI