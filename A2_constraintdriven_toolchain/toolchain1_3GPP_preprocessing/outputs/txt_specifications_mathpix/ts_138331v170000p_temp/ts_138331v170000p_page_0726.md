<!-- Page 726 of ts_138331v170000p -->

3GPP TS 38.331 version 17.0.0 Release 17
725
ETSI TS 138331 V17.0.0 (2022-05)

\begin{tabular}{|l|}
\hline \begin{tabular}{l}
rsrp-ThresholdSSB-SUL \\
The UE selects SUL carrier to perform random access based on this threshold (see TS 38.321 [3], clause 5.1.1). The value applies to all the BWPs.
\end{tabular} \\
\hline \begin{tabular}{l}
ssb-perRACH-OccasionAndCB-PreamblesPerSSB \\
The meaning of this field is twofold: the CHOICE conveys the information about the number of SSBs per RACH occasion. Value oneEighth corresponds to one SSB associated with 8 RACH occasions, value oneFourth corresponds to one SSB associated with 4 RACH occasions, and so on. The ENUMERATED part indicates the number of Contention Based preambles per SSB. Value \( n 4 \) corresponds to 4 Contention Based preambles per SSB, value \( n 8 \) corresponds to 8 Contention Based preambles per SSB, and so on. \\
The total number of CB preambles in a RACH occasion is given by CB-preambles-per-SSB* max(1, SSB-per-rach-occasion). See TS 38.213 [13].
\end{tabular} \\
\hline \begin{tabular}{l}
totalNumberOfRA-Preambles \\
Total number of preambles used for contention based and contention free 4-step or 2-step random access in the RACH resources defined in RACH-ConfigCommon, excluding preambles used for other purposes (e.g. for SI request). If the field is absent, all 64 preambles are available for RA. The setting should be consistent with the setting of ssb-perRACH-OccasionAndCB-PreamblesPerSSB, i.e. it should be a multiple of the number of SSBs per RACH occasion.
\end{tabular} \\
\hline
\end{tabular}

\begin{tabular}{|l|l|}
\hline Conditional Presence & Explanation \\
\hline L139 & The field is mandatory present if prach-RootSequencelndex \( \mathrm{L}=139 \), otherwise the field is absent, Need S . \\
\hline SUL & The field is mandatory present in initialUplinkBWP if supplementaryUplink is configured in ServingCellConfigCommonSIB or if supplementaryUplinkConfig is configured in ServingCellConfigCommon; otherwise, the field is absent. \\
\hline InitialBWP-Only & This field is optionally present, Need R, if this BWP is the initial BWP of SpCell. Otherwise the field is absent. \\
\hline
\end{tabular}
- \( \quad \) RACH-ConfigCommonTwoStepRA

The IE RACH-ConfigCommonTwoStepRA is used to specify cell specific 2 -step random-access type parameters.

RACH-ConfigCommonTwoStepRA information element
```
-- ASNISTART
-- TAG-RACH-CONFIGCOMMONTWOSTEPRA-START
RACH-ConfigCommonTwoStepRA-rl6 ::= SEQUENCE \
    rach-ConfigGenericTwoStepRA-rl6
    msgA-TotalNumberOfRA-Preambles-rl6
    msgA-SSB-PerRACH-OccasionAndCB-PreamblesPerSSB-r16
        oneEighth
        oneFourth
        oneHalf
        one
        two
        four
        eight
        sixteen
    }
    msgA-CB-PreamblesPerSSB-PerSharedRO-rl6 INTEGER (1..60)
    msgA-SSB-SharedRO-MaskIndex-r16
    groupB-ConfiguredTwoStepRA-r16
    msgA-PRACH-RootSequenceIndex-r16
        1839
        1139
        1571
    RACH-ConfigGenericTwoStepRA-rl6,
    INTEGER (1..63) OPTIONAL, -- Need.S
    CHOICE {
        ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
        ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
        ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
        ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
        ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32},
        INTEGER (1..16),
        INTEGER (1..8),
        INTEGER (1..4)
        OPTIONAL, -- Cond 2StepOnly
    INTEGER (1..15)
    GroupB-ConfiguredTwoStepRA-rl6
    CHOICE {
        INTEGER (0..837),
        INTEGER (0..137),
        INTEGER (0..569),
```


ETSI