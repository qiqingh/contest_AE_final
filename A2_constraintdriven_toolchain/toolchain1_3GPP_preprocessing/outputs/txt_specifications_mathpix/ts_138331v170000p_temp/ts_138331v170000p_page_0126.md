<!-- Page 126 of ts_138331v170000p -->

3GPP TS 38.331 version 17.0.0 Release 17
125
ETSI TS 138331 V17.0.0 (2022-05)
5.3.7.4 Actions related to transmission of RRCReestablishmentRequest message

The UE shall set the contents of RRCReestablishmentRequest message as follows:
\( 1> \) if the procedure was initiated due to radio link failure as specified in 5.3 .10 .3 or reconfiguration with sync failure as specified in 5.3.5.8.3:
\( 2> \) set the reestablishmentCellld in the VarRLF-Report to the global cell identity of the selected cell;
\( 1> \) set the ue-Identity as follows:
\( 2> \) set the \( c \)-RNTI to the C-RNTI used in the source PCell (reconfiguration with sync or mobility from NR failure) or used in the PCell in which the trigger for the re-establishment occurred (other cases);
\( 2> \) set the physCellld to the physical cell identity of the source PCell (reconfiguration with sync or mobility from NR failure) or of the PCell in which the trigger for the re-establishment occurred (other cases);
\( 2> \) set the shortMAC-I to the 16 least significant bits of the MAC-I calculated:
\( 3> \) over the ASN 1 encoded as per clause 8 (i.e., a multiple of 8 bits) VarShortMAC-Input;
\( 3> \) with the \( K_{R R C n t} \) key and integrity protection algorithm that was used in the source PCell (reconfiguration with sync or mobility from NR failure) or of the PCell in which the trigger for the re-establishment occurred (other cases); and
\( 3> \) with all input bits for COUNT, BEARER and DIRECTION set to binary ones;
\( 1> \) set the reestablishmentCause as follows:
\( 2> \) if the re-establishment procedure was initiated due to reconfiguration failure as specified in 5.3 .5 .8 .2 :
\( 3> \) set the reestablishmentCause to the value reconfigurationFailure;
\( 2> \) else if the re-establishment procedure was initiated due to reconfiguration with sync failure as specified in 5.35 .8 .3 (intra-NR handover failure) or 5.4 .3 .5 (inter-RAT mobility from NR failure):
\( 3> \) set the reestablishmentCause to the value handoverFailure;
\( 2> \) else:
\( 3> \) set the reestablishmentCause to the value otherFailure;
\( 1> \) re-establish PDCP for SRB1;
\( 1> \) if the UE is connected with a L2 U2N Relay UE via PC5-RRC connection (i.e the UE is a L2 U2N Remote UE):
\( 2> \) apply the default configuration of SL-RLC1 as defined in 9.2.4 for SRB1;
\( 2> \) apply the default configuration of PDCP defined in 9.2.1 for SRB1;
\( 1> \) else:
\( 2> \) re-establish RLC for SRB1;
\( 2> \) apply the default configuration defined in 9.2 .1 for SRB1;
\( 1> \) configure lower layers to suspend integrity protection and ciphering for SRB1;
NOTE: Ciphering is not applied for the subsequent \( R R C R e e s t a b l i s h m e n t \) message used to resume the connection. An integrity check is performed by lower layers, but merely upon request from RRC.
\( 1> \) resume SRB1;
1> submit the RRCReestablishmentRequest message to lower layers for transmission.

ETSI