<!-- Page 176 of ts_138331v170000p -->

3GPP TS 38.331 version 17.0.0 Release 17
175
ETSI TS 138331 V17.0.0 (2022-05)

3> if the reportConfig associated with at least one measId included in the measIdList within VarMeasConfig contains a reportQuantityRS-Indexes and maxNrofRS-IndexesToReport and contains an rsType set to ssb:

4> derive layer 3 filtered RSRP and RSRQ per beam for the serving cell based on SS/PBCH block, as described in 5.5.3.3a;
\( 3> \) derive serving cell measurement results based on SS/PBCH block, as described in 5.5.3.3;
\( 2> \) if the reportConfig associated with at least one measId included in the measIdList within VarMeasConfig contains an rsType set to csi-rs and CSI-RS-ResourceConfigMobility is configured in the measObject indicated by the servingCellMO:

3> if the reportConfig associated with at least one measId included in the measIdList within VarMeasConfig contains a reportQuantityRS-Indexes and maxNrofRS-IndexesToReport and contains an rsType set to csi\( r s \) :

4> derive layer 3 filtered RSRP and RSRQ per beam for the serving cell based on CSI-RS, as described in 5.5.3.3a;
\( 3> \) derive serving cell measurement results based on CSI-RS, as described in 5.5.3.3;
\( 1> \) for each serving cell for which servingCellMO is configured, if the reportConfig associated with at least one measId included in the measIdList within VarMeasConfig contains SINR as trigger quantity and/or reporting quantity:
\( 2> \) if the reportConfig contains rsType set to ssb and ssb-ConfigMobility is configured in the servingCellMO:
3> if the reportConfigcontains a reportQuantityRS-Indexes and maxNrofRS-IndexesToReport:
\( 4> \) derive layer 3 filtered SINR per beam for the serving cell based on SS/PBCH block, as described in 5.5.3.3a;
\( 3> \) derive serving cell SINR based on SS/PBCH block, as described in 5.5.3.3;
\( 2> \) if the reportConfig contains rsType set to csi-rs and CSI-RS-ResourceConfigMobility is configured in the servingCellMO:

3> if the reportConfigcontains a reportQuantityRS-Indexes and maxNrofRS-IndexesToReport:
4> derive layer 3 filtered SINR per beam for the serving cell based on CSI-RS, as described in 5.5.3.3a;
\( 3> \) derive serving cell SINR based on CSI-RS, as described in 5.5.3.3;
1> for each measld included in the measIdList within VarMeasConfig:
\( 2> \) if the reportType for the associated reportConfig is set to reportCGI and timer T321 is running:
3> if useAutonomousGaps is configured for the associated reportConfig:
4> perform the corresponding measurements on the frequency and RAT indicated in the associated measObject using autonomous gaps as necessary;
\( 3> \) else:
4> perform the corresponding measurements on the frequency and RAT indicated in the associated measObject using available idle periods;
\( 3> \) if the cell indicated by reportCGI field for the associated measObject is an NR cell and that indicated cell is broadcasting SIBI (see TS 38.213 [13], clause 13):
\( 4> \) try to acquire SIBI in the concerned cell;
3> if the cell indicated by reportCGI field is an E-UTRA cell:
4> try to acquire SystemInformationBlockTypel in the concerned cell;
\( 2> \) if the \( u \)-DelayValueConfig is configured for the associated reportConfig:

ETSI