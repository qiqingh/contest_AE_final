<!-- Page 1163 of ts_138331v170000p -->

3GPP TS 38.331 version 17.0.0 Release 17
1162
ETSI TS 138331 V17.0.0 (2022-05)
- at the end of a structure contained in a BIT STRING or OCTET STRING.
- When an extension marker is available, non-critical extensions are preferably placed at the location (e.g. the IE) where the concerned parameter belongs from a logical/ functional perspective (referred to as the 'default extension location').
- It is desirable to aggregate extensions of the same release or version of the specification into a group, which should be placed at the lowest possible level.
- In specific cases it may be preferable to place extensions elsewhere (referred to as the 'actual extension location') e.g. when it is possible to aggregate several extensions in a group. In such a case, the group should be placed at the lowest suitable level in the message.
- In case placement at the default extension location affects earlier critical branches of the message, locating the extension at a following higher level in the message should be considered.
- In case an extension is not placed at the default extension location, an IE should be defined. The IE's ASN. 1 definition should be placed in the same ASN. 1 clause as the default extension location. In case there are intermediate levels in-between the actual and the default extension location, an IE may be defined for each level. Intermediate levels are primarily introduced for readability and overview. Hence intermediate levels need not always be introduced e.g. they may not be needed when the default and the actual extension location are within the same ASN 1 clause.
A.4.3.2 Further guidelines

Further to the general principles defined in the previous clause, the following additional guidelines apply regarding the use of extension markers:
- Extension markers within SEQUENCE:
- Extension markers are primarily, but not exclusively, introduced at the higher nesting levels.
- Extension markers are introduced for a SEQUENCE comprising several fields as well as for information elements whose extension would result in complex structures without it (e.g. re-introducing another list).
- Extension markers are introduced to make it possible to maintain important information structures e.g. parameters relevant for one particular RAT.
- Extension markers are also used for size critical messages (i.e. messages on \( \mathrm{BCCH}, \mathrm{BR} \)-BCCH, PCCH and CCCH), although introduced somewhat more carefully.
- The extension fields introduced (or frozen) in a specific version of the specification are grouped together using double brackets.
- Extension markers within ENUMERATED:
- Spare values may be used until the number of values reaches the next power of 2 , while the extension marker caters for extension beyond that limit, given that the use of spare values in a later Release is possible without any error cases.
- A suffix of the form "vXYZ" is used for the identifier of each new value, e.g. "value-vXYZ".
- Extension markers within CHOICE:

ETSI