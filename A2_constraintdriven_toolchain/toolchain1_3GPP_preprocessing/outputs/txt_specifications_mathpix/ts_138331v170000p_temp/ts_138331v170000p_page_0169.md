<!-- Page 169 of ts_138331v170000p -->

3GPP TS 38.331 version 17.0.0 Release 17
168
ETSI TS 138331 V17.0.0 (2022-05)

3> if the received measObject includes the allowedCellsToRemoveList:
4> for each pci-RangeIndex included in the allowedCellsToRemoveList:
\( 5> \) remove the entry with the matching pci-RangeIndex from the allowedCellsToAddModList;
NOTE2: For each pci-RangeIndex included in the allowedCellsToRemoveList that concerns overlapping ranges of cells, a cell is removed from the allow-list of cells only if all PCI ranges containing it are removed.
\( 3> \) if the received measObject includes the allowedCellsToAddModList:
\( 4> \) for each pci-RangeIndex included in the allowedCellsToAddModList:
\( 5> \) if an entry with the matching pci-RangeIndex is included in the allowedCellsToAddModList:
\( 6> \) replace the entry with the value received for this pci-RangeIndex;
5> else:
\( 6> \) add a new entry for the received pci-RangeIndex to the allowedCellsToAddModList
3> for each measId associated with this measObjectld in the measIdList within the VarMeasConfig, if any:
4> remove the measurement reporting entry for this measId from the VarMeasReportList, if included;
4> stop the periodical reporting timer or timer T321 or timer T322, whichever one is running, and reset the associated information (e.g. timeToTrigger) for this measId;
\( 3> \) if the received measObject includes the \( t x \)-PoolMeasToRemoveList:
4> for each transmission resource pool indicated in tx-PoolMeasToRemoveList:
\( 5> \) remove the entry with the matching identity of the transmission resource pool from the \( t x \) PoolMeasToAddModList;

3> if the received measObject includes the \( t x \)-PoolMeasToAddModList:
\( 4> \) for each transmission resource pool indicated in \( t x \)-PoolMeasToAddModList:
\( 5> \) if an entry with the matching identity of the transmission resource pool exists in the \( t x \) -
PoolMeasToAddModList:
6> replace the entry with the value received for this transmission resource pool;
\( 5> \) else:
\( 6> \) add a new entry for the received identity of the transmission resource pool to the \( t x \) PoolMeasToAddModList;

3> if the received measObject includes the ssb-PositionQCL-CellsToRemoveList:
4> for each physCellld included in the ssb-PositionQCL-CellsToRemoveList:
\( 5> \) remove the entry with the matching physCellld from the ssb-PositionQCL-CellsToAddModList;
3> if the received measObject includes the ssb-PositionQCL-CellsToAddModList:
\( 4> \) for each physCellId included in the ssb-PositionQCL-CellsToAddModList:
\( 5> \) if an entry with the matching physCellld exists in the ssb-PositionQCL-CellsToAddModList:
\( 6> \) replace the entry with the value received for this physCellld;
\( 5> \) else:
6> add a new entry for the received physCellId to the ssb-PositionQCL-CellsToAddModList;
\( 2> \) else:

ETSI