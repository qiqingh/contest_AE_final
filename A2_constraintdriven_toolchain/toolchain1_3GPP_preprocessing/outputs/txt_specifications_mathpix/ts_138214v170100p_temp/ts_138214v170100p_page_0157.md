<!-- Page 157 of ts_138214v170100p -->

3GPP TS 38.214 version 17.1.0 Release 17
156
ETSI TS 138214 V17.1.0 (2022-05)

For \( \mu=1 \), the \( \mathrm{X}=5 \) MSBs of the resource block assignment information comprise a bitmap indicating the interlaces that are allocated to the scheduled UE. The bitmap is of size \( M \) bits with one bitmap bit per interlace such that each interlace is addressable, where \( M \) and interlace indexing is defined in Clause 4.4.4.6 in [4, TS 38.211]. The order of interlace bitmap is such that interlace 0 to interlace \( M-1 \) are mapped from MSB to LSB of the bitmap. An interlace is allocated to the UE if the corresponding bit value in the bitmap is 1 ; otherwise the interlace is not allocated to the UE.

For DCI \( 0 \_0 \) monitored in a UE-specific search space and DC \( 0 \_1 \) for both \( \mu=0 \) and \( \mu=1 \), the \( Y= \left\lceil\log _{2} \frac{N_{\mathrm{RB}-\mathrm{set}, \mathrm{UL}}^{\mathrm{BWP}}\left(N_{\mathrm{RB}-\mathrm{set}, \mathrm{UL}}^{\mathrm{BWP}}+1\right)}{2}\right\rceil \) LSBs of the resource block assignment information indicate to a UE a set of contiguously allocated RB sets for PUSCH scheduled by DCI \( 0 \_0 \) monitored in a UE-specific search space, DCI \( 0 \_1 \) and Type 1 and Type 2 configured grant. The resource allocation field consists of a resource indication value ( \( R I V_{\text {RB-set }} \) ). For \( 0 \leq R I V_{\text {RB-set }}<N_{\text {RB-set, UL }}^{\text {BWP }}\left(N_{\text {RB-set, UL }}^{\text {BWP }}+1\right) / 2, l=0,1, \cdots L_{\text {RBset }}-1 \) the resource indication value corresponds to the starting RB set index \( N_{\text {RB-set, UL }}^{\text {start }} \) and the number of contiguous RB sets \( L_{\text {RB-set }} \). The resource indication value is defined by;
\[
\begin{array}{l}
\text { if } \begin{aligned}
\left(L_{\mathrm{RB}-\text { set }}-1\right) & \leq\left\lfloor N_{\mathrm{RB}-\text { set }, \mathrm{UL}}^{\mathrm{BWP}} / 2\right\rfloor \text { then } \\
& R I V_{\mathrm{RB}-\text { set }}=N_{\mathrm{RB}-\text { set, UL }}^{\mathrm{BWP}}\left(L_{\mathrm{RB}-\text { set }}-1\right)+N_{\mathrm{RB}-\text { set, UL }}^{\text {start }}
\end{aligned}
\end{array}
\]
else
\[
R I V_{\mathrm{RB}-\mathrm{set}}=N_{\mathrm{RB}-\mathrm{set}, \mathrm{UL}}^{\mathrm{BWP}}\left(N_{\mathrm{RB}-\mathrm{set}, \mathrm{UL}}^{\mathrm{BWP}}-L_{\mathrm{RB}-\mathrm{set}}+1\right)+\left(N_{\mathrm{RB}-\mathrm{set}, \mathrm{UL}}^{\mathrm{BWP}}-1-N_{\mathrm{RB}-\mathrm{set}, \mathrm{UL}}^{\text {start }}\right)
\]
where \( N_{\text {RB-set,UL }}^{\text {start }}=0,1, \cdots N_{\text {RB-set,UL }}^{\text {BWP }}-1, L_{\text {RB-set }} \geq 1 \) and shall not exceed \( N_{\text {RB-set,UL }}^{\text {BWP }}-N_{\text {RB-set,UL }}^{\text {start }} \)
If transform precoding is enabled according to the procedure in Clause 6.1.3, then the UE transmits PUSCH on the lowest-indexed \( M_{\text {RB }}^{\text {PUSCH }} \) PRBs amongst the PRBs indicated by the frequency domain resource assignment information. \( M_{\mathrm{RB}}^{\mathrm{PUSCH}} \) is the largest integer not greater than the number of RBs indicated by the frequency domain resource assignment information that fulfils the conditions in Clause 6.3.1.4 of [4, TS 38.211].
6.1.2.3 Resource allocation for uplink transmission with configured grant

When PUSCH resource allocation is semi-statically configured by higher layer parameter configuredGrantConfig in BWP-UplinkDedicated information element, and the PUSCH transmission corresponding to a configured grant, the following higher layer parameters are applied in the transmission:
- For Type 1 PUSCH transmissions with a configured grant, the following parameters are given in configuredGrantConfig unless mentioned otherwise:
- For the determination of the PUSCH repetition type, if the higher layer parameter pusch-RepTypeIndicator in rrc-ConfiguredUplinkGrant is configured and set to 'pusch-RepTypeB', PUSCH repetition type B is applied; otherwise, PUSCH repetition type A is applied;
- For PUSCH repetition type A, the selection of the time domain resource allocation table follows the rules for DCI format \( 0 \_0 \) on UE specific search space, as defined in Clause 6.1.2.1.1.
- For PUSCH repetition type B, the selection of the time domain resource allocation table is as follows:
- If pusch-RepTypeIndicatorDCI-0-1 in pusch-Config is configured and set to 'pusch-RepTypeB', pusch-TimeDomainResourceAllocationListDCI-0-1 in pusch-Config is used;
- Otherwise, pusch-TimeDomainResourceAllocationListDCI-0-2 in pusch-Config is used.
- It is not expected that pusch-RepTypeIndicator in rrc-ConfiguredUplinkGrant is configured with 'puschRepTypeB' when none of pusch-RepTypeIndicatorDCI-0-1 and pusch-RepTypeIndicatorDCI-0-2 in pusch-Config is set to 'pusch-RepTypeB'.
- The higher layer parameter timeDomainAllocation value \( m \) provides a row index \( m+1 \) pointing to the determined time domain resource allocation table, where the start symbol and length are determined following the procedure defined in Clause 6.1.2.1;
- Frequency domain resource allocation is determined by the \( N \) LSB bits in the higher layer parameter frequencyDomainAllocation, forming a bit sequence \( f_{17}, \ldots, f_{1}, f_{0} \), where \( f_{0} \) is the LSB, according to the procedure in Clause 6.1.2.2 and \( N \) is determined as the size of frequency domain resource assignment field in

ETSI