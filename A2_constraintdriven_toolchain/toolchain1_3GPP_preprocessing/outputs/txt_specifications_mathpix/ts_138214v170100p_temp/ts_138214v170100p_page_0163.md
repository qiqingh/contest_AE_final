<!-- Page 163 of ts_138214v170100p -->

3GPP TS 38.214 version 17.1.0 Release 17
162
ETSI TS 138214 V17.1.0 (2022-05)
- If the UE is not configured with the higher layer parameter transformPrecoder in pusch-Config, the UE shall, for this PUSCH transmission, consider the transform precoding either enabled or disabled according to the higher layer configured parameter msg3-transformPrecoder.

For PUSCH transmission with a configured grant
- If the UE is configured with the higher layer parameter transformPrecoder in configuredGrantConfig, the UE shall, for this PUSCH transmission, consider the transform precoding either enabled or disabled according to this parameter.
- If the UE is not configured with the higher layer parameter transformPrecoder in configuredGrantConfig, the UE shall, for this PUSCH transmission, consider the transform precoding either enabled or disabled according to the higher layer configured parameter msg3-transformPrecoder.
6.1.4 Modulation order, redundancy version and transport block size determination

To determine the modulation order, target code rate, redundancy version and transport block size for the physical uplink shared channel, the UE shall first
- read the 5 -bit modulation and coding scheme field ( \( I_{M C S} \) ) in the DCI scheduling PUSCH or provided in a DCI activating a configured grant Type 2 PUSCH, or as provided by mcsAndTBS as described in Clause 6.1.2.3 for a configured grant Type 1 PUSCH to determine the modulation order ( \( O_{m} \) ) and target code rate ( \( R \) ) based on the procedure defined in Clause 6.1.4.1
- read redundancy version field ( \( r v \) ) in the DCI to determine the redundancy version for PUSCH scheduled by DCI, or determine the redundancy version according to Clause 6.1.2.3.1 for configured grant Type 1 and Type 2 PUSCH,
and second
- use the number of layers ( \( v) \), the total number of allocated PRBs ( \( n_{P R B} \) ) to determine the transport block size based on the procedure defined in Clause 6.1.4.2.

When the UE is scheduled with multiple PUSCHs by a DCI, as described in clause 6.1.2.1, the bits of \( r v \) field and NDI field, respectively, in the DCI are one to one mapped to the scheduled PUSCH(s) indicated by the TDRA information field with the corresponding transport block(s) in the scheduled order where the LSB bits of the \( r v \) field and NDI field, respectively, correspond to the last scheduled PUSCH indicated by the TDRA information field.

Within a cell group, a UE is not required to handle \( \operatorname{PUSCH}(s) \) transmissions in slot \( s_{j} \) in serving cell \( -j \), and for \( j=0,1,2 \ldots \) J-1, slot \( s_{j} \) overlapping with any given point in time, if the following condition is not satisfied at that point in time:
\( \sum_{j=0}^{J-1} \frac{\sum_{m=0}^{M-1} V_{j, m}}{T_{\text {slot }}^{\mu(J)}} \leq \) DataRate,
where
- J is the number of configured serving cells belong to a frequency range
- for the \( j \)-th serving cell,
- \( M \) is the number of \( \mathrm{TB}(\mathrm{s}) \) transmitted in slot- \( s_{j} \). For PUSCH repetition Type B , each actual repetition is counted separately.
- \( T_{\text {slof }}{ }^{\mu(j)}=10^{-3} / 2^{\mu(j)} \), where \( \mu(j) \) is the numerology for PUSCH(s) in slot \( s_{j} \) of the \( j \)-th serving cell.
- for the \( m \)-th TB, \( V_{j, m}=C^{\prime} \cdot\left\lfloor\frac{A}{c}\right\rfloor \)
- \( A \) is the number of bits in the transport block as defined in Clause 6.2.1 [5, TS 38.212]
- \( C \) is the total number of code blocks for the transport block defined in Clause 5.2 .2 [5, TS 38.212].
- \( C^{\prime} \) is the number of scheduled code blocks for the transport block as defined in Clause 5.4.2.1 [5,38.212]

ETSI